import{C as x,f as y,i as B,j as Q}from"./chunk-OTESOBQZ.js";import{c as q,d as v,g as a,i as b}from"./chunk-BJXS5QYT.js";import{$ as T,B as R,C as D,Ca as C,Fc as A,Ga as i,Hc as Y,Jb as p,Kb as j,Lb as O,Mb as P,Nb as m,Ob as d,Tb as I,Wb as _,Xb as f,Yb as s,bc as M,db as c,dc as k,fa as S,fc as N,gc as $,nb as w,tb as l,yb as E}from"./chunk-YNRYOK3S.js";import{a as h}from"./chunk-HZ6M6AS2.js";var V=["*"],u=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=l({type:t,selectors:[["app-error"]],hostVars:1,hostBindings:function(e,o){e&2&&I("@toggle",!0)},ngContentSelectors:V,decls:1,vars:0,template:function(e,o){e&1&&(f(),s(0))},styles:["[_nghost-%COMP%]{color:var(--color-danger);font-size:14px}"],data:{animation:[q("toggle",[b(":enter",[a({opacity:0}),v("150ms",a({opacity:1}))]),b(":leave",[a({opacity:1}),v("150ms",a({opacity:0}))])])]},changeDetection:0})};var G={required:"This field is required",email:"Enter a valid email address",min:"This field is too short",max:"This field is too long"},g=class t{_errors=i(G);errors=this._errors.asReadonly();getMessage(r,e){let o=this._errors()[r];if(o)return o instanceof Function?o(e):o}addErrors(r){this._errors.set(h(h({},this._errors()),r))}setErrors(r){this._errors.set(r)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var J=[[["app-label"]],"*",[["app-error"]]],K=["app-label","*","app-error"];function W(t,r){if(t&1&&(m(0,"app-error"),N(1),d()),t&2){let e=r.$implicit;c(),$(e)}}function X(t,r){if(t&1&&O(0,W,2,1,"app-error",null,j),t&2){let e=_(2);P(e.errors())}}function Z(t,r){t&1&&s(0,2)}function ee(t,r){if(t&1&&E(0,X,2,0)(1,Z,1,0),t&2){let e=_();p(e.showErrors()?0:-1),c(),p(e.showCustomErrors()?1:-1)}}var L=class t{silentErrors=C();showErrors=C(!0);errors=i([]);invalid=i(!1);touched=i(!1);showCustomErrors=A(()=>!this.showErrors()||this.errors().length===0);ngControl=w(y);sub;errorRegistry=S(g);errorsCodes$=x(this.errorRegistry.errors);silentErrors$=x(this.silentErrors);constructor(){Y(()=>{let e=this.ngControl()?.control;if(!e){this.sub?.unsubscribe();return}let o=e.events.pipe(D(n=>n instanceof B||n instanceof Q));this.sub=R(o,this.errorsCodes$,this.silentErrors$).subscribe(()=>{this.touched.set(e.touched),this.invalid.set(e.invalid),this.processErrors(e)})})}processErrors(r){let e=[],o=this.silentErrors();for(let n in r.errors){let z=!o?.includes(n);if(r.errors[n]&&z){let F=this.errorRegistry.getMessage(n,r.errors[n]);F!==void 0&&e.push(F)}}this.errors.set(e)}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=l({type:t,selectors:[["app-form-field"]],contentQueries:function(e,o,n){e&1&&M(n,o.ngControl,y,5),e&2&&k()},inputs:{silentErrors:[1,"silentErrors"],showErrors:[1,"showErrors"]},ngContentSelectors:K,decls:6,vars:1,consts:[[1,"relative","mb-1.5","flex","flex-col","gap-1.5","pb-5"],[1,"flex","flex-col","gap-1.5"],[1,"absolute","right-0","bottom-0","left-0","flex","flex-col"]],template:function(e,o){e&1&&(f(J),m(0,"div",0)(1,"label",1),s(2),s(3,1),d(),m(4,"div",2),E(5,ee,2,2),d()()),e&2&&(c(5),p(o.invalid()&&o.touched()?5:-1))},dependencies:[u],styles:["app-error[_ngcontent-%COMP%]{display:block}"],changeDetection:0})};export{u as a,g as b,L as c};
