{
  "version": 3,
  "sources": ["projects/ngverse/src/lib/ui/dark-mode/dark-mode.service.ts", "projects/ngverse/src/lib/ui/dark-mode/dark-mode-toggle.component.ts", "projects/ngverse/src/lib/ui/dark-mode/dark-mode-toggle.component.html"],
  "sourcesContent": ["import { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { Platform } from '@angular/cdk/platform';\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport { afterRenderEffect, inject, Injectable, signal } from '@angular/core';\n\nconst DARK_MODE_STORAGE_KEY = 'dark-mode';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DarkModeService {\n  private _isEnabled = signal(false);\n\n  isEnabled = this._isEnabled.asReadonly();\n\n  private readonly platform = inject(Platform);\n  private readonly document = inject(DOCUMENT);\n\n  private readonly rootHtml = this.document.documentElement;\n  private readonly window = this.document.defaultView;\n\n  constructor() {\n    this.initialize();\n\n    afterRenderEffect(() => {\n      const darkMode = this._isEnabled();\n      localStorage.setItem(DARK_MODE_STORAGE_KEY, darkMode + '');\n      this.setHtmlDarkModeAttribute(darkMode);\n    });\n  }\n\n  toggle() {\n    this._isEnabled.update((darkMode) => !darkMode);\n  }\n\n  enable() {\n    this._isEnabled.set(true);\n  }\n  disable() {\n    this._isEnabled.set(false);\n  }\n\n  private setHtmlDarkModeAttribute(darkMode: boolean) {\n    if (darkMode) {\n      this.rootHtml.classList.add('dark');\n    } else {\n      this.rootHtml.classList.remove('dark');\n    }\n  }\n\n  private initialize() {\n    if (isPlatformBrowser(this.platform)) {\n      const storedDarkMode = localStorage.getItem(DARK_MODE_STORAGE_KEY);\n\n      if (storedDarkMode) {\n        this._isEnabled.set(coerceBooleanProperty(storedDarkMode));\n        return;\n      }\n      if (\n        this.platform.isBrowser &&\n        this.window?.matchMedia('(prefers-color-scheme: dark)').matches\n      ) {\n        this._isEnabled.set(true);\n        return;\n      }\n\n      this._isEnabled.set(false);\n    }\n  }\n}\n", "import { ButtonComponent } from '@/ui/button/button.component';\nimport { FontIconComponent } from '@/ui/font-icon/font-icon.component';\nimport { ChangeDetectionStrategy, Component, inject } from '@angular/core';\nimport { DarkModeService } from './dark-mode.service';\n\n@Component({\n  selector: 'app-dark-mode-toggle',\n  imports: [ButtonComponent, FontIconComponent],\n  templateUrl: './dark-mode-toggle.component.html',\n  styleUrl: './dark-mode-toggle.component.css',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class DarkModeToggleComponent {\n  private readonly darkModeService = inject(DarkModeService);\n  isEnabled = this.darkModeService.isEnabled;\n\n  toggleDarkMode() {\n    this.darkModeService.toggle();\n  }\n}\n", "<button\n  appButton\n  icon\n  variant=\"link\"\n  color=\"secondary\"\n  (click)=\"toggleDarkMode()\"\n  size=\"sm\"\n  aria-label=\"Dark Mode\"\n>\n  <app-font-icon>{{ isEnabled() ? 'dark_mode' : 'light_mode' }}</app-font-icon>\n</button>\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,IAAM,wBAAwB;AAKxB,IAAO,kBAAP,MAAO,iBAAe;EAClB,aAAa,OAAO,OAAK,GAAA,YAAA,CAAA,EAAA,WAAA,aAAA,CAAA,IAAA,CAAA,CAAA;EAEjC,YAAY,KAAK,WAAW,WAAU;EAErB,WAAW,OAAO,QAAQ;EAC1B,WAAW,OAAO,QAAQ;EAE1B,WAAW,KAAK,SAAS;EACzB,SAAS,KAAK,SAAS;EAExC,cAAA;AACE,SAAK,WAAU;AAEf,sBAAkB,MAAK;AACrB,YAAM,WAAW,KAAK,WAAU;AAChC,mBAAa,QAAQ,uBAAuB,WAAW,EAAE;AACzD,WAAK,yBAAyB,QAAQ;IACxC,CAAC;EACH;EAEA,SAAM;AACJ,SAAK,WAAW,OAAO,CAAC,aAAa,CAAC,QAAQ;EAChD;EAEA,SAAM;AACJ,SAAK,WAAW,IAAI,IAAI;EAC1B;EACA,UAAO;AACL,SAAK,WAAW,IAAI,KAAK;EAC3B;EAEQ,yBAAyB,UAAiB;AAChD,QAAI,UAAU;AACZ,WAAK,SAAS,UAAU,IAAI,MAAM;IACpC,OAAO;AACL,WAAK,SAAS,UAAU,OAAO,MAAM;IACvC;EACF;EAEQ,aAAU;AAChB,QAAI,kBAAkB,KAAK,QAAQ,GAAG;AACpC,YAAM,iBAAiB,aAAa,QAAQ,qBAAqB;AAEjE,UAAI,gBAAgB;AAClB,aAAK,WAAW,IAAI,sBAAsB,cAAc,CAAC;AACzD;MACF;AACA,UACE,KAAK,SAAS,aACd,KAAK,QAAQ,WAAW,8BAA8B,EAAE,SACxD;AACA,aAAK,WAAW,IAAI,IAAI;AACxB;MACF;AAEA,WAAK,WAAW,IAAI,KAAK;IAC3B;EACF;;qCA1DW,kBAAe;EAAA;4EAAf,kBAAe,SAAf,iBAAe,WAAA,YAFd,OAAM,CAAA;;;sEAEP,iBAAe,CAAA;UAH3B;WAAW;MACV,YAAY;KACb;;;;;ACGK,IAAO,0BAAP,MAAO,yBAAuB;EACjB,kBAAkB,OAAO,eAAe;EACzD,YAAY,KAAK,gBAAgB;EAEjC,iBAAc;AACZ,SAAK,gBAAgB,OAAM;EAC7B;;qCANW,0BAAuB;EAAA;yEAAvB,0BAAuB,WAAA,CAAA,CAAA,sBAAA,CAAA,GAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,aAAA,IAAA,QAAA,IAAA,WAAA,QAAA,SAAA,aAAA,QAAA,MAAA,cAAA,aAAA,GAAA,OAAA,CAAA,GAAA,UAAA,SAAA,iCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;ACZpC,MAAA,yBAAA,GAAA,UAAA,CAAA;AAKE,MAAA,qBAAA,SAAA,SAAA,2DAAA;AAAA,eAAS,IAAA,eAAA;MAAgB,CAAA;AAIzB,MAAA,yBAAA,GAAA,eAAA;AAAe,MAAA,iBAAA,CAAA;AAA8C,MAAA,uBAAA,EAAgB;;;AAA9D,MAAA,oBAAA,CAAA;AAAA,MAAA,4BAAA,IAAA,UAAA,IAAA,cAAA,YAAA;;oBDFL,iBAAiB,iBAAiB,GAAA,QAAA,CAAA,iPAAA,GAAA,iBAAA,EAAA,CAAA;;;sEAKjC,yBAAuB,CAAA;UAPnC;uBACW,wBAAsB,SACvB,CAAC,iBAAiB,iBAAiB,GAAC,iBAG5B,wBAAwB,QAAM,UAAA;;;;;;;;;;;GAAA,QAAA,CAAA,wSAAA,EAAA,CAAA;;;;6EAEpC,yBAAuB,EAAA,WAAA,2BAAA,UAAA,uEAAA,YAAA,GAAA,CAAA;AAAA,GAAA;",
  "names": []
}
