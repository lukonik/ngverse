import{a as G,p as q}from"./chunk-GRZZN3NF.js";import{c as $,d as y,f as a,g as h,h as v,i as _}from"./chunk-BUO5MQHX.js";import{d as Y}from"./chunk-AONP4U6R.js";import{Cb as E,Db as g,Eb as m,Fb as D,G as C,Gb as N,Hb as P,Ib as A,Kb as M,Mb as k,Nb as R,Ob as j,Qb as V,Va as u,X as b,aa as T,ac as H,cc as B,d as c,dc as F,ec as z,fa as I,ga as w,ha as x,jb as l,ra as s,sc as L,xb as S,yb as O}from"./chunk-EWJS3UHC.js";var p=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["app-toast-close-icon"]],decls:3,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x"],["d","M18 6 6 18"],["d","m6 6 12 12"]],template:function(t,e){t&1&&(x(),N(0,"svg",0),A(1,"path",1)(2,"path",2),P())},styles:["[_nghost-%COMP%]{display:flex}"],changeDetection:0})};var ee=(n,o,t,e)=>({"bg-inverse text-inverse-foreground":n,"bg-success text-success-foreground":o,"bg-danger text-danger-foreground":t,"bg-warning text-warning-foreground":e});function te(n,o){if(n&1){let t=M();g(0,"button",2),R("click",function(){I(t);let r=V();return w(r.exit())}),D(1,"app-toast-close-icon",3),m()}}var oe=v("* => enter",[_(y("250ms ease-in",h([a({opacity:0,transform:"scale3d(0.3, 0.3, 0.3)",offset:0}),a({opacity:1,transform:"scale3d(1, 1, 1)",offset:.5})])))]),ne=v("* => exit",[_(y("250ms ease-out",h([a({opacity:1,transform:"scale3d(1, 1, 1)",offset:0}),a({opacity:0,transform:"scale3d(0.3, 0.3, 0.3)",offset:.5}),a({opacity:0,offset:1})])))]),d=class n{message=s("");type=s(void 0);showCloseIcon=s(!0);position=s("right_bottom");animationState=s("enter");_onExit=new c;onExit=this._onExit.asObservable();onDone(o){o.toState==="exit"&&(this._onExit.next(),this._onExit.complete())}exit(){this.animationState.set("exit")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["app-toast"]],hostAttrs:["role","alert"],hostVars:5,hostBindings:function(t,e){t&1&&j("@toggle.done",function(f){return e.onDone(f)}),t&2&&(k("@toggle",e.animationState()),B(e.type()),H("toaster",!0))},decls:4,vars:8,consts:[[1,"flex","items-center","justify-center","rounded-md","px-4","py-3","shadow-md",3,"ngClass"],["aria-label","Close toast",1,"cursor-pointer"],["aria-label","Close toast",1,"cursor-pointer",3,"click"],[1,"toast-close-icon"]],template:function(t,e){t&1&&(g(0,"div",0)(1,"div"),F(2),m(),S(3,te,2,0,"button",1),m()),t&2&&(E("ngClass",L(3,ee,!e.type(),e.type()==="success",e.type()==="danger",e.type()==="warning")),u(2),z(e.message()),u(),O(e.showCloseIcon()?3:-1))},dependencies:[p,Y],encapsulation:2,data:{animation:[$("toggle",[oe,ne])]},changeDetection:0})};var K=class n{overlay=T(q);overlayRef;timeoutId;resolvePosition(o){let t=this.overlay.position().global(),e="20px";switch(o){case"top_left":return t.top(e).left(e);case"top_center":return t.top(e).centerHorizontally(e);case"top_right":return t.top(e).right(e);case"right_center":return t.right(e).centerVertically(e);case"right_bottom":return t.right(e).bottom(e);case"bottom_center":return t.bottom(e).centerHorizontally(e);case"bottom_left":return t.bottom(e).left(e);case"left_center":return t.left(e).centerVertically()}}open(o){this.close();let t=new G(d),e=o.position??"bottom_center",r=o.showCloseIcon??!0,f=o.closeDelay??3e3,Q=o.autoClose??!0,U=o.message,W=o.type??void 0,X=this.resolvePosition(e);this.overlayRef=this.overlay.create({positionStrategy:X});let i=this.overlayRef.attach(t).instance;return i.message.set(U),i.type.set(W),i.showCloseIcon.set(r),i.position.set(e),Q&&(this.timeoutId=setTimeout(()=>{i.exit()},f)),i.onExit.subscribe(()=>{this.close()}),new c().pipe(C(1))}close(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.overlayRef?.dispose(),this.overlayRef=void 0}static \u0275fac=function(t){return new(t||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})};export{K as a};
