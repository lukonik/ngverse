import{a as pe}from"./chunk-NYI5L2OW.js";import{a as le}from"./chunk-252RE5LZ.js";import{a as ae}from"./chunk-WOIJO7Y3.js";import{a as G}from"./chunk-BBYX5IZ3.js";import{h as te}from"./chunk-KNXVHTLB.js";import{a as ne}from"./chunk-KDRAUZ2P.js";import{e as oe}from"./chunk-K6LPIJ6U.js";import{F as re,a as se}from"./chunk-OTESOBQZ.js";import{a as ie}from"./chunk-U3UHWJW4.js";import"./chunk-TTMMANWW.js";import{a as J,b as W,g as ee,l as O}from"./chunk-CEMMEC5V.js";import"./chunk-BJXS5QYT.js";import{d as Y}from"./chunk-WXPYGSME.js";import"./chunk-IZOCP3TZ.js";import"./chunk-ORXXB4DH.js";import"./chunk-6CWDKGH7.js";import{$ as D,A as R,Ba as N,Ca as E,Da as v,Db as k,Eb as $,Fb as p,Fc as U,Ga as j,Kb as Z,Lb as Q,Mb as K,Nb as u,Ob as a,Pb as M,Rb as x,Ub as f,Wb as T,cc as y,db as c,dc as b,f as L,fa as l,fc as _,j as S,lb as C,mb as B,pa as d,qa as m,qc as F,tb as h,vb as q,ya as z,za as V,zc as X}from"./chunk-YNRYOK3S.js";import"./chunk-HZ6M6AS2.js";var he=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=h({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(e,o){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return n})(),ue=W({passive:!0}),fe=(()=>{class n{_platform=l(J);_ngZone=l(V);_styleLoader=l(ee);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return S;this._styleLoader.load(he);let e=O(t),o=this._monitoredElements.get(e);if(o)return o.subject;let s=new L,r="cdk-text-field-autofilled",A=w=>{w.animationName==="cdk-text-field-autofill-start"&&!e.classList.contains(r)?(e.classList.add(r),this._ngZone.run(()=>s.next({target:w.target,isAutofilled:!0}))):w.animationName==="cdk-text-field-autofill-end"&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>s.next({target:w.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",A,ue),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:s,unlisten:()=>{e.removeEventListener("animationstart",A,ue)}}),s}stopMonitoring(t){let e=O(t),o=this._monitoredElements.get(e);o&&(o.unlisten(),o.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ce=(()=>{class n{_elementRef=l(v);_autofillMonitor=l(fe);cdkAutofill=new z;constructor(){}ngOnInit(){this._autofillMonitor.monitor(this._elementRef).subscribe(t=>this.cdkAutofill.emit(t))}ngOnDestroy(){this._autofillMonitor.stopMonitoring(this._elementRef)}static \u0275fac=function(e){return new(e||n)};static \u0275dir=q({type:n,selectors:[["","cdkAutofill",""]],outputs:{cdkAutofill:"cdkAutofill"}})}return n})();var _e=["firstInput"],ge=["inputs"];function ve(n,i){if(n&1){let t=x();u(0,"input",5,1),f("input",function(o){let s=d(t).$index,r=T();return m(r._onInput(o,s+1))})("keydown",function(o){let s=d(t).$index,r=T();return m(r._onKeydown(o,s+1))}),a()}if(n&2){let t=i.$index,e=T();p("inputMode",e.inputMode()),k("aria-label","OTP Digit "+(t+2))}}var g=class n{codeLength=E(4);codeLengthArray=U(()=>new Array(this.codeLength()-1).fill(1));inputMode=E("numeric");filled=N();firstInput=C.required("firstInput");inputs=B("inputs",{read:v});cf=l(X);autoFillSub;focus(){this.firstInput().nativeElement.focus()}fillFromText(i){if(!i)return;let t=this.inputs();for(let e=0;e<i.length;e++){let o=i[e],s=t[e];s&&(s.nativeElement.value=o)}this.cf.detectChanges(),this.checkIfFilled()}clear(){for(let i of this.inputs())i.nativeElement.value="";this.cf.detectChanges()}_autoFilled(){let t=0,e=100;this.autoFillSub?.unsubscribe(),this.autoFillSub=R(e).subscribe(()=>{try{let o=this.firstInput().nativeElement.value;if(o){this.fillFromText(o),this.autoFillSub?.unsubscribe();return}t>10&&this.autoFillSub?.unsubscribe(),t++}catch{this.autoFillSub?.unsubscribe()}})}_onInput(i,t){let e=i;e.inputType!=="insertFromPaste"&&(e.inputType==="deleteContentBackward"?this.moveToPrev(t):(e.inputType==="insertText"||e.inputType==="deleteContentForward")&&this.moveToNext(t),this.checkIfFilled())}_onKeydown(i,t){i.key==="ArrowRight"?this.moveToNext(t):i.key==="ArrowLeft"&&this.moveToPrev(t)}_onPaste(i){let t=i.clipboardData?.getData("text");this.fillFromText(t)}checkIfFilled(){let i=this.inputs().every(e=>e.nativeElement.value!==null&&e.nativeElement.value!==void 0&&e.nativeElement.value!=="");if(!i)return;let t=this.inputs().map(e=>e.nativeElement.value).join("");i&&this.filled.emit(t)}moveToPrev(i){let t=this.prevInput(i);t&&t.nativeElement.focus()}moveToNext(i){let t=this.nextInput(i);t&&t.nativeElement.focus()}nextInput(i){let t=this.inputs();if(t.length-1===i)return;let e=i+1;return t[e]}prevInput(i){let t=this.inputs();if(i===0)return;let e=i-1;return t[e]}ngOnDestroy(){this.autoFillSub?.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=h({type:n,selectors:[["app-otp-input"]],viewQuery:function(t,e){t&1&&(y(e.firstInput,_e,5),y(e.inputs,ge,5,v)),t&2&&b(2)},inputs:{codeLength:[1,"codeLength"],inputMode:[1,"inputMode"]},outputs:{filled:"filled"},decls:6,vars:4,consts:[["firstInput","","inputs",""],["inputs",""],["role","group","aria-labelledby","otp-label",1,"code-container",3,"paste"],["appInput","","autocomplete","one-time-code","maxlength","1",1,"code-input",3,"cdkAutofill","input","keydown","inputMode"],["appInput","","autocomplete","off","maxlength","1",1,"code-input",3,"inputMode"],["appInput","","autocomplete","off","maxlength","1",1,"code-input",3,"input","keydown","inputMode"]],template:function(t,e){if(t&1){let o=x();u(0,"div",2),f("paste",function(r){return d(o),m(e._onPaste(r))}),u(1,"input",3,0),f("cdkAutofill",function(){return d(o),m(e._autoFilled())})("input",function(r){return d(o),m(e._onInput(r,0))})("keydown",function(r){return d(o),m(e._onKeydown(r,0))}),a(),Q(4,ve,2,2,"input",4,Z),a()}t&2&&($("aria-label","Enter the ",e.codeLength(),"-digit verification code sent to your phone."),c(),p("inputMode",e.inputMode()),k("aria-label","OTP Digit 1"),c(3),K(e.codeLengthArray()))},dependencies:[ae,ce],styles:[".listbox-item-active[_ngcontent-%COMP%]{outline:1px solid var(--color-ring)}.code-container[_ngcontent-%COMP%]{display:flex;gap:6px;height:40px}.code-input[_ngcontent-%COMP%]{width:40px;text-align:center}"],changeDetection:0})};var I=class n{loading=j(!1);otpInput=C.required(g);toast=l(pe);codeFilled(i){this.toast.open({message:`Code filled: ${i}`,showCloseIcon:!1})}recieveCode(){this.loading.set(!0),setTimeout(()=>{this.otpInput().fillFromText("1234"),this.loading.set(!1)},1e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=h({type:n,selectors:[["doc-show-case-otp-input"]],viewQuery:function(t,e){t&1&&y(e.otpInput,g,5),t&2&&b()},decls:5,vars:1,consts:[["otpInput",""],[1,"show-case"],[3,"filled"],["appButton","",3,"click","loading"]],template:function(t,e){if(t&1){let o=x();u(0,"div",1)(1,"app-otp-input",2,0),f("filled",function(r){return d(o),m(e.codeFilled(r))}),a(),u(3,"button",3),f("click",function(){return d(o),m(e.recieveCode())}),_(4," Recieve Code "),a()()}t&2&&(c(3),p("loading",e.loading()))},dependencies:[g,G],styles:[".show-case[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px}"]})};var xe=()=>["../input"],ye=()=>["../listbox"],P="otp-input",me=class n{sourceTreeBuilder=l(se);preprs=[{name:"input",label:"Input"}];sourceTree=[{name:P,files:[...this.sourceTreeBuilder.fullComponent(P,P)],hideName:!0}];apiInfo={ariaLink:"https://ej2.syncfusion.com/react/documentation/otp-input/accessibility",entities:[{name:"OtpInputComponent",selector:"app-otp-input",type:"component",inputs:[{name:"codeLength",type:"number",default:"4",description:"The length of the OTP"},{name:"inputMode",type:"string",default:"numeric",description:"The input mode of the OTP"}],outputs:[{name:"filled",description:"Emits the value of OTP when the OTP is filled",value:"string"}],methods:[{name:"focus",returnType:"void",description:"Focuses the first input"},{name:"fillFromText",returnType:"void",description:"Fills the OTP from text",params:[{name:"text",type:"string",description:"The text to fill the OTP"}]},{name:"clear",returnType:"void",description:"Clears the OTP"}]}]};static \u0275fac=function(t){return new(t||n)};static \u0275cmp=h({type:n,selectors:[["doc-otp-input-page"]],decls:14,vars:9,consts:[[3,"subTitle","label"],["name","otp-input"],["name","OTP Input",3,"preprsAuto"],[1,"underline",3,"routerLink"],["name","otp-input",3,"sourceTree"],[3,"apiInfo"]],template:function(t,e){t&1&&(u(0,"doc-blueprint-page",0)(1,"doc-show-case",1),M(2,"doc-show-case-otp-input"),a(),u(3,"doc-prerequisites",2),_(4," OTP Input element uses "),u(5,"a",3),_(6,"Input"),a(),_(7," and "),u(8,"a",3),_(9,"Listbox"),a(),_(10,". Please ensure they are added to your project if they aren't already. "),a(),M(11,"doc-command-installation",1)(12,"doc-source-tree",4)(13,"doc-api-info",5),a()),t&2&&(p("subTitle","An OTP Input is a component for entering one-time passwords securely and efficiently.")("label","OTP Input"),c(3),p("preprsAuto",e.preprs),c(2),p("routerLink",F(7,xe)),c(3),p("routerLink",F(8,ye)),c(4),p("sourceTree",e.sourceTree),c(),p("apiInfo",e.apiInfo))},dependencies:[ie,oe,I,re,ne,te,le,Y],encapsulation:2})};export{me as OtpInputPageComponent};
