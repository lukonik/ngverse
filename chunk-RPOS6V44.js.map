{
  "version": 3,
  "sources": ["projects/ngverse/src/lib/ui/toast/toast-close.component.ts", "projects/ngverse/src/lib/ui/toast/toast.component.ts", "projects/ngverse/src/lib/ui/toast/toast.component.html", "projects/ngverse/src/lib/ui/toast/toast.service.ts"],
  "sourcesContent": ["import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  selector: 'app-toast-close-icon',\n  styles: [\n    `\n      :host {\n        display: flex;\n      }\n    `,\n  ],\n  template: `<svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-x\"\n  >\n    <path d=\"M18 6 6 18\" />\n    <path d=\"m6 6 12 12\" />\n  </svg>`,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ToastCloseIconComponent {}\n", "import {\n  animate,\n  animation,\n  AnimationEvent,\n  keyframes,\n  style,\n  transition,\n  trigger,\n} from '@angular/animations';\nimport { NgClass } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, signal } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { ToastCloseIconComponent } from './toast-close.component';\nimport { TOAST_POSITION } from './toast.service';\n\nconst ENTER_ANIMATION = transition('* => enter', [\n  animation(\n    animate(\n      '250ms ease-in',\n      keyframes([\n        style({ opacity: 0, transform: 'scale3d(0.3, 0.3, 0.3)', offset: 0 }),\n        style({ opacity: 1, transform: 'scale3d(1, 1, 1)', offset: 0.5 }),\n      ])\n    )\n  ),\n]);\n\nconst LEAVE_ANIMATION = transition('* => exit', [\n  animation(\n    animate(\n      '250ms ease-out',\n      keyframes([\n        style({ opacity: 1, transform: 'scale3d(1, 1, 1)', offset: 0 }),\n        style({ opacity: 0, transform: 'scale3d(0.3, 0.3, 0.3)', offset: 0.5 }),\n        style({ opacity: 0, offset: 1 }),\n      ])\n    )\n  ),\n]);\n\n@Component({\n  selector: 'app-toast',\n  imports: [ToastCloseIconComponent, NgClass],\n  templateUrl: './toast.component.html',\n  styleUrl: './toast.component.css',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [trigger('toggle', [ENTER_ANIMATION, LEAVE_ANIMATION])],\n  host: {\n    role: 'alert',\n    '[class.toaster]': 'true',\n    '[class]': 'type()',\n    '[@toggle]': 'animationState()',\n    '(@toggle.done)': 'onDone($event)',\n  },\n})\nexport class ToastComponent {\n  message = signal<string>('');\n  type = signal<string | undefined>(undefined);\n  showCloseIcon = signal<boolean>(true);\n  position = signal<TOAST_POSITION>('right_bottom');\n  animationState = signal<'enter' | 'exit'>('enter');\n  private _onExit = new Subject<void>();\n  onExit = this._onExit.asObservable();\n\n  onDone($event: AnimationEvent) {\n    if ($event.toState === 'exit') {\n      this._onExit.next();\n      this._onExit.complete();\n    }\n  }\n\n  exit() {\n    this.animationState.set('exit');\n  }\n}\n", "<div\n  class=\"flex items-center justify-center rounded-md px-4 py-3 shadow-md\"\n  [ngClass]=\"{\n    'bg-inverse text-inverse-foreground': !type(),\n    'bg-success text-success-foreground': type() === 'success',\n    'bg-danger text-danger-foreground': type() === 'danger',\n    'bg-warning text-warning-foreground': type() === 'warning',\n  }\"\n>\n  <div>{{ message() }}</div>\n  @if (showCloseIcon()) {\n    <button (click)=\"exit()\" class=\"cursor-pointer\" aria-label=\"Close toast\">\n      <app-toast-close-icon class=\"toast-close-icon\"></app-toast-close-icon>\n    </button>\n  }\n</div>\n", "import { Overlay, OverlayRef } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { inject, Injectable } from '@angular/core';\nimport { Subject, take } from 'rxjs';\nimport { ToastComponent } from './toast.component';\n\nexport type TOAST_POSITION =\n  | 'top_left'\n  | 'top_center'\n  | 'top_right'\n  | 'right_center'\n  | 'right_bottom'\n  | 'bottom_center'\n  | 'bottom_left'\n  | 'left_center';\n\nexport type TOAST_TYPE = 'success' | 'warning' | 'danger' | undefined;\n\ninterface ToastOptions {\n  closeDelay?: number;\n  autoClose?: boolean;\n  showCloseIcon?: boolean;\n  message: string;\n  type?: TOAST_TYPE;\n  position?: TOAST_POSITION;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ToastService {\n  private overlay = inject(Overlay);\n  private overlayRef: OverlayRef | undefined;\n  private timeoutId: unknown;\n\n  private resolvePosition(position: TOAST_POSITION) {\n    const positionStrategy = this.overlay.position().global();\n    const offset = '20px';\n    switch (position) {\n      case 'top_left':\n        return positionStrategy.top(offset).left(offset);\n      case 'top_center':\n        return positionStrategy.top(offset).centerHorizontally(offset);\n      case 'top_right':\n        return positionStrategy.top(offset).right(offset);\n      case 'right_center':\n        return positionStrategy.right(offset).centerVertically(offset);\n      case 'right_bottom':\n        return positionStrategy.right(offset).bottom(offset);\n      case 'bottom_center':\n        return positionStrategy.bottom(offset).centerHorizontally(offset);\n      case 'bottom_left':\n        return positionStrategy.bottom(offset).left(offset);\n      case 'left_center':\n        return positionStrategy.left(offset).centerVertically();\n    }\n  }\n\n  open(options: ToastOptions) {\n    this.close();\n\n    const portal = new ComponentPortal(ToastComponent);\n    // const genOptions = this.getOptions(options);\n    const position = options.position ?? 'bottom_center';\n    const showCloseIcon = options.showCloseIcon ?? true;\n    const closeDelay = options.closeDelay ?? 3000;\n    const autoClose = options.autoClose ?? true;\n    const message = options.message;\n    const type = options.type ?? undefined;\n\n    const globalPosition = this.resolvePosition(position);\n\n    this.overlayRef = this.overlay.create({\n      positionStrategy: globalPosition,\n    });\n    const compRef = this.overlayRef.attach(portal);\n    const instance = compRef.instance;\n    instance.message.set(message);\n    instance.type.set(type);\n    instance.showCloseIcon.set(showCloseIcon);\n    instance.position.set(position);\n    if (autoClose) {\n      this.timeoutId = setTimeout(() => {\n        instance.exit();\n      }, closeDelay);\n    }\n\n    instance.onExit.subscribe(() => {\n      this.close();\n    });\n    const closed$ = new Subject<void>();\n\n    return closed$.pipe(take(1));\n  }\n\n  private close() {\n    if (this.timeoutId) {\n      clearTimeout(this.timeoutId as number);\n      this.timeoutId = undefined;\n    }\n    this.overlayRef?.dispose();\n    this.overlayRef = undefined;\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
