import{c as p}from"./chunk-FDM76GLF.js";import{a as M}from"./chunk-YJKQC3LA.js";import{$ as s,Ca as o,Da as v,Db as L,Ga as I,Hc as C,Ic as d,La as y,N as f,S as g,Y as u,Yc as T,fa as i,hb as b,m,s as h,tb as w}from"./chunk-L4LO2SGZ.js";var c=class r{icons=new Map;addIcon(e,t){this.icons.set(e,t)}getUrl(e){return this.icons.get(e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})};function P(){let r=i(y);return T(r)?new DOMParser:null}var a=class r{_iconRegistry=i(c);http=i(M);_domParser=P();_iconLoader=new Map;_iconCache=new Map;load(e){let t=this._iconRegistry.getUrl(e);if(!t)throw new Error(`Icon with name ${e} not found. Please use IconRegistry.addSvgIcon() to add it.`);let n=this._iconCache.get(t);if(n)return m(n.cloneNode(!0));let l=this._iconLoader.get(t);return l?l.pipe(h(H=>H?.cloneNode(!0))):this.fetch(t)}fetch(e){let t=this.http.get(e,{responseType:"text"}).pipe(h(n=>this.stringToSvg(n))).pipe(u(n=>{n&&this._iconCache.set(e,n)})).pipe(f(()=>this._iconLoader.delete(e))).pipe(g(1));return this._iconLoader.set(e,t),t}stringToSvg(e){if(!this._domParser)return null;let t=this._domParser.parseFromString(e,"image/svg+xml").documentElement;return t.nodeName!=="svg"?null:t}static \u0275fac=function(t){return new(t||r)};static \u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})};var x=24,D=24,_=class r{name=o.required();stretch=o(!1);width=o(x);height=o(D);iconLoaderService=i(a);renderer=i(b);host=i(v);icon=I(void 0);constructor(){d(()=>{let e=this.name();e&&this.iconLoaderService.load(e).subscribe(t=>{t&&(C(()=>{let n=this.icon();n&&this.renderer.removeChild(this.host.nativeElement,n)}),this.icon.set(t),this.renderer.appendChild(this.host.nativeElement,t))})}),d(()=>{let e=this.icon();if(e)if(this.stretch())this.renderer.setAttribute(e,"width","100%"),this.renderer.setAttribute(e,"height","100%");else{let t=p(this.width()),n=p(this.height());this.renderer.setAttribute(e,"width",t),this.renderer.setAttribute(e,"height",n)}})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=w({type:r,selectors:[["app-icon"]],hostAttrs:["role","img"],hostVars:1,hostBindings:function(t,n){t&2&&L("aria-hidden",!0)},inputs:{name:[1,"name"],stretch:[1,"stretch"],width:[1,"width"],height:[1,"height"]},decls:0,vars:0,template:function(t,n){},styles:["[_nghost-%COMP%]{display:inline-flex}"],changeDetection:0})};export{c as a,_ as b};
