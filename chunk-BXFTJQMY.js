import{c as m}from"./chunk-ISERG6LL.js";import{i as C,m as T}from"./chunk-AONP4U6R.js";import{Ac as o,Ea as y,K as g,N as f,T as u,X as s,aa as i,bb as M,jb as w,k as l,q as d,ra as v,ua as h,va as I,wb as L,za as b}from"./chunk-EWJS3UHC.js";var c=class r{icons=new Map;addIcon(e,t){this.icons.set(e,t)}getUrl(e){return this.icons.get(e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})};function H(){let r=i(y);return C(r)?new DOMParser:null}var a=class r{_iconRegistry=i(c);http=i(T);_domParser=H();_iconLoader=new Map;_iconCache=new Map;load(e){let t=this._iconRegistry.getUrl(e);if(!t)throw new Error(`Icon with name ${e} not found. Please use IconRegistry.addSvgIcon() to add it.`);let n=this._iconCache.get(t);if(n)return l(n.cloneNode(!0));let p=this._iconLoader.get(t);return p?p.pipe(d(_=>_?.cloneNode(!0))):this.fetch(t)}fetch(e){let t=this.http.get(e,{responseType:"text"}).pipe(d(n=>this.stringToSvg(n))).pipe(u(n=>{n&&this._iconCache.set(e,n)})).pipe(g(()=>this._iconLoader.delete(e))).pipe(f(1));return this._iconLoader.set(e,t),t}stringToSvg(e){if(!this._domParser)return null;let t=this._domParser.parseFromString(e,"image/svg+xml").documentElement;return t.nodeName!=="svg"?null:t}static \u0275fac=function(t){return new(t||r)};static \u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})};var N=24,P=24,E=class r{name=o.required();stretch=o(!1);width=o(N);height=o(P);iconLoaderService=i(a);renderer=i(M);host=i(b);icon=v(void 0);constructor(){h(()=>{let e=this.name();e&&this.iconLoaderService.load(e).subscribe(t=>{t&&(I(()=>{let n=this.icon();n&&this.renderer.removeChild(this.host.nativeElement,n)}),this.icon.set(t),this.renderer.appendChild(this.host.nativeElement,t))})}),h(()=>{let e=this.icon();if(e)if(this.stretch())this.renderer.setAttribute(e,"width","100%"),this.renderer.setAttribute(e,"height","100%");else{let t=m(this.width()),n=m(this.height());this.renderer.setAttribute(e,"width",t),this.renderer.setAttribute(e,"height",n)}})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=w({type:r,selectors:[["app-icon"]],hostAttrs:["role","img"],hostVars:1,hostBindings:function(t,n){t&2&&L("aria-hidden",!0)},inputs:{name:[1,"name"],stretch:[1,"stretch"],width:[1,"width"],height:[1,"height"]},decls:0,vars:0,template:function(t,n){},styles:["[_nghost-%COMP%]{display:inline-flex}"],changeDetection:0})};export{c as a,E as b};
