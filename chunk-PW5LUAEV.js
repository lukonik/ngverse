import{a as tt}from"./chunk-BVELSWG2.js";import{a as et}from"./chunk-VNSH5UTE.js";import{a as Qe}from"./chunk-OLYMDVHZ.js";import{c as ze,e as Ze}from"./chunk-JW7ZZNTZ.js";import"./chunk-D6LCSLA2.js";import{a as Ye}from"./chunk-LXL3EEVN.js";import"./chunk-UUDQISJ4.js";import{a as Xe,l as $e}from"./chunk-D2T54IWO.js";import{a as Ge}from"./chunk-6ZFCEKYT.js";import"./chunk-ZEHDGIPP.js";import"./chunk-WPOPMUPA.js";import"./chunk-72D4XSXH.js";import{b as qe,f as ce,i as le,j as Je,k as H}from"./chunk-BOORJ7RR.js";import{a as ue}from"./chunk-DIHW65DR.js";import{e as re,h as l,j as je,m as oe,n as We,o as ae,p as S}from"./chunk-BWRN2L4X.js";import{d as Ve,f as se,j as Ue}from"./chunk-6JJ5IDC5.js";import"./chunk-ZFFSALUF.js";import"./chunk-F4WJRZPQ.js";import"./chunk-GP2QN3H7.js";import"./chunk-W57CNJZN.js";import{$ as z,$b as Be,Aa as F,B as E,Bc as ie,D as be,Ea as k,Eb as b,Fc as ne,Gb as C,H as Ce,Ha as R,Hb as Fe,Hc as Ke,Ib as Re,K as Te,M as Ie,Pb as m,Qb as f,Rb as J,T as xe,Tb as Pe,U as De,Ub as $,V as A,W as Se,Wb as h,X as c,Yb as ee,bc as He,ca as y,cc as Ne,eb as I,f as d,fa as s,ga as Z,gc as te,ha as G,hc as g,ia as Y,ib as P,lb as Ee,oa as Oe,pa as Q,qa as X,rc as D,ta as we,u as ke,ub as B,v as ve,va as q,wb as u,xb as x,yb as v,yc as Le,za as T,zb as Ae}from"./chunk-UXDRYXR2.js";import{a as M,b as ye}from"./chunk-HZ6M6AS2.js";var nt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=u({type:i,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],features:[D([{provide:ue,useClass:ue}])]})}return i})(),me=new y("cdk-menu"),_=function(i){return i[i.nextItem=0]="nextItem",i[i.previousItem=1]="previousItem",i[i.currentItem=2]="currentItem",i}(_||{}),p=new y("cdk-menu-stack"),pt={provide:p,deps:[[new G,new Y,new Z(p)]],useFactory:i=>i||new fe},mt=i=>({provide:p,deps:[[new G,new Y,new Z(p)]],useFactory:r=>r||fe.inline(i)}),fe=(()=>{class i{id=s(ae).getId("cdk-menu-stack-");_elements=[];_close=new d;_empty=new d;_hasFocus=new d;closed=this._close;hasFocus=this._hasFocus.pipe(A(!1),Ce(0),Ie());emptied=this._empty;_inlineMenuOrientation=null;static inline(e){let t=new i;return t._inlineMenuOrientation=e,t}push(e){this._elements.push(e)}close(e,t){let{focusNextOnEmpty:n,focusParentTrigger:o}=M({},t);if(this._elements.indexOf(e)>=0){let a;do a=this._elements.pop(),this._close.next({item:a,focusParentTrigger:o});while(a!==e);this.isEmpty()&&this._empty.next(n)}}closeSubMenuOf(e){let t=!1;if(this._elements.indexOf(e)>=0)for(t=this.peek()!==e;this.peek()!==e;)this._close.next({item:this._elements.pop()});return t}closeAll(e){let{focusNextOnEmpty:t,focusParentTrigger:n}=M({},e);if(!this.isEmpty()){for(;!this.isEmpty();){let o=this._elements.pop();o&&this._close.next({item:o,focusParentTrigger:n})}this._empty.next(t)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return this._inlineMenuOrientation!=null}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(e){this._hasFocus.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=z({token:i,factory:i.\u0275fac})}return i})(),K=new y("cdk-menu-trigger"),ft=new y("cdk-menu-scroll-strategy",{providedIn:"root",factory:()=>{let i=s(H);return()=>i.scrollStrategies.reposition()}}),st=(()=>{class i{injector=s(q);viewContainerRef=s(Ee);menuStack=s(p);menuScrollStrategy=s(ft);menuPosition;opened=new T;closed=new T;menuTemplateRef;menuData;overlayRef=null;destroyed=new d;stopOutsideClicksListener=E(this.closed,this.destroyed);childMenu;_menuPortal;_childMenuInjector;ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(e){this.childMenu=e}getMenuContentPortal(){let e=this.menuTemplateRef!==this._menuPortal?.templateRef;return this.menuTemplateRef&&(!this._menuPortal||e)&&(this._menuPortal=new qe(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(e){for(let t=e;t;t=t?.parentElement??null)if(t.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||q.create({providers:[{provide:K,useValue:this},{provide:p,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}static \u0275fac=function(t){return new(t||i)};static \u0275dir=u({type:i,hostVars:2,hostBindings:function(t,n){t&2&&b("aria-controls",n.childMenu==null?null:n.childMenu.id)("data-cdk-menu-stack-id",n.menuStack.id)}})}return i})();var ge=new y("cdk-menu-aim");function rt(i,r){if(!r.isTrusted)return!1;let e=i.nativeElement,t=r.keyCode;return e.nodeName==="BUTTON"&&!e.disabled?t===13||t===32:e.nodeName==="A"?t===13:!1}var gt=(()=>{class i extends st{_elementRef=s(k);_overlay=s(H);_ngZone=s(F);_changeDetectorRef=s(ie);_inputModalityDetector=s(oe);_directionality=s(S,{optional:!0});_renderer=s(P);_cleanupMouseenter;_parentMenu=s(me,{optional:!0});_menuAim=s(ge,{optional:!0});constructor(){super(),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){!this.isOpen()&&this.menuTemplateRef!=null&&(this.opened.next(),this.overlayRef=this.overlayRef||this._overlay.create(this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._changeDetectorRef.markForCheck(),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach(),this._changeDetectorRef.markForCheck()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}ngOnChanges(e){e.menuPosition&&this.overlayRef&&this.overlayRef.updatePositionStrategy(this._getOverlayPositionStrategy())}ngOnDestroy(){this._cleanupMouseenter(),super.ngOnDestroy()}_toggleOnKeydown(e){let t=this._parentMenu?.orientation==="vertical";switch(e.keyCode){case 32:case 13:!l(e)&&!rt(this._elementRef,e)&&(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case 39:l(e)||this._parentMenu&&t&&this._directionality?.value!=="rtl"&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 37:l(e)||this._parentMenu&&t&&this._directionality?.value==="rtl"&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 40:case 38:l(e)||t||(e.preventDefault(),this.open(),e.keyCode===40?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"));break}}_handleClick(){this.toggle(),this.childMenu?.focusFirstItem("mouse")}_setHasFocus(e){this._parentMenu||this.menuStack.setHasFocus(e)}_subscribeToMouseEnter(){this._cleanupMouseenter=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"mouseenter",()=>{if(this._inputModalityDetector.mostRecentModality!=="touch"&&!this.menuStack.isEmpty()&&!this.isOpen()){let e=()=>this._ngZone.run(()=>{this._closeSiblingTriggers(),this.open()});this._menuAim?this._menuAim.toggle(e):e()}}))}_closeSiblingTriggers(){this._parentMenu?!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll():this.menuStack.closeAll()}_getOverlayConfig(){return new ce({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this.menuScrollStrategy(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withFlexibleDimensions(!1).withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(!this._parentMenu||this._parentMenu.orientation==="horizontal"?le:Je)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe(c(this.destroyed)).subscribe(({item:e})=>{e===this.childMenu&&this.close()})}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe(c(this.stopOutsideClicksListener)).subscribe(e=>{let t=re(e),n=this._elementRef.nativeElement;t!==n&&!n.contains(t)&&(this.isElementInsideMenuStack(t)?this._closeSiblingTriggers():this.menuStack.closeAll())})}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe(c(this.destroyed)).subscribe(e=>{e||this.menuStack.closeAll()})}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe(({focusParentTrigger:e})=>{e&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()})}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){let e=this._elementRef.nativeElement;e.nodeName==="BUTTON"&&!e.getAttribute("type")&&e.setAttribute("type","button")}static \u0275fac=function(t){return new(t||i)};static \u0275dir=u({type:i,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:[1,"cdk-menu-trigger"],hostVars:2,hostBindings:function(t,n){t&1&&h("focusin",function(){return n._setHasFocus(!0)})("focusout",function(){return n._setHasFocus(!1)})("keydown",function(a){return n._toggleOnKeydown(a)})("click",function(){return n._handleClick()}),t&2&&b("aria-haspopup",n.menuTemplateRef?"menu":null)("aria-expanded",n.menuTemplateRef==null?null:n.isOpen())},inputs:{menuTemplateRef:[0,"cdkMenuTriggerFor","menuTemplateRef"],menuPosition:[0,"cdkMenuPosition","menuPosition"],menuData:[0,"cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],features:[D([{provide:K,useExisting:i},pt]),x,Oe]})}return i})(),_e=(()=>{class i{_dir=s(S,{optional:!0});_elementRef=s(k);_ngZone=s(F);_inputModalityDetector=s(oe);_renderer=s(P);_cleanupMouseEnter;_menuAim=s(ge,{optional:!0});_menuStack=s(p);_parentMenu=s(me,{optional:!0});_menuTrigger=s(gt,{optional:!0,self:!0});disabled=!1;typeaheadLabel;triggered=new T;get hasMenu(){return this._menuTrigger?.menuTemplateRef!=null}_tabindex=-1;closeOnSpacebarTrigger=!0;destroyed=new d;constructor(){this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}ngOnDestroy(){this._cleanupMouseEnter?.(),this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(e){let{keepOpen:t}=M({},e);!this.disabled&&!this.hasMenu&&(this.triggered.next(),t||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(e){this.disabled||(!e||!this._menuStack.isEmpty())&&(this._tabindex=0)}_onKeydown(e){switch(e.keyCode){case 32:case 13:if(!l(e)&&!rt(this._elementRef,e)){let t=this._elementRef.nativeElement.nodeName;t!=="A"&&t!=="BUTTON"&&e.preventDefault(),this.trigger({keepOpen:e.keyCode===32&&!this.closeOnSpacebarTrigger})}break;case 39:l(e)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._forwardArrowPressed(e):this._backArrowPressed(e));break;case 37:l(e)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._backArrowPressed(e):this._forwardArrowPressed(e));break}}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(e){let t=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(e.preventDefault(),this._menuStack.close(t,{focusNextOnEmpty:this._menuStack.inlineMenuOrientation()==="horizontal"?_.previousItem:_.currentItem,focusParentTrigger:!0}))}_forwardArrowPressed(e){!this.hasMenu&&this._menuStack.inlineMenuOrientation()==="horizontal"&&(e.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:_.nextItem,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){let e=()=>this._ngZone.run(()=>this._menuStack.closeSubMenuOf(this._parentMenu));this._cleanupMouseEnter=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"mouseenter",()=>{this._inputModalityDetector.mostRecentModality!=="touch"&&!this._menuStack.isEmpty()&&!this.hasMenu&&(this._menuAim?this._menuAim.toggle(e):e())}))}}_isParentVertical(){return this._parentMenu?.orientation==="vertical"}_setType(){let e=this._elementRef.nativeElement;e.nodeName==="BUTTON"&&!e.getAttribute("type")&&e.setAttribute("type","button")}static \u0275fac=function(t){return new(t||i)};static \u0275dir=u({type:i,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:2,hostBindings:function(t,n){t&1&&h("blur",function(){return n._resetTabIndex()})("focus",function(){return n._setTabIndex()})("click",function(){return n.trigger()})("keydown",function(a){return n._onKeydown(a)}),t&2&&($("tabindex",n._tabindex),b("aria-disabled",n.disabled||null))},inputs:{disabled:[2,"cdkMenuItemDisabled","disabled",ne],typeaheadLabel:[0,"cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"]})}return i})(),de=class{_renderer;_items;_eventCleanups;_itemsSubscription;entered=new d;exited=new d;activeElement;previousElement;constructor(r,e){this._renderer=r,this._items=e,this._bindEvents(),this.entered.subscribe(t=>this.activeElement=t),this.exited.subscribe(()=>{this.previousElement=this.activeElement,this.activeElement=void 0})}destroy(){this._cleanupEvents(),this._itemsSubscription?.unsubscribe()}_bindEvents(){this._itemsSubscription=this._items.changes.pipe(A(this._items)).subscribe(()=>{this._cleanupEvents(),this._eventCleanups=[],this._items.forEach(r=>{let e=r._elementRef.nativeElement;this._eventCleanups.push(this._renderer.listen(e,"mouseenter",()=>{this.entered.next(r)}),this._renderer.listen(e,"mouseout",()=>{this.exited.next(r)}))})})}_cleanupEvents(){this._eventCleanups?.forEach(r=>r()),this._eventCleanups=void 0}},_t=(()=>{class i extends nt{_focusMonitor=s(We);ngZone=s(F);_renderer=s(P);nativeElement=s(k).nativeElement;menuStack=s(p);menuAim=s(ge,{optional:!0,self:!0});dir=s(S,{optional:!0});id=s(ae).getId("cdk-menu-");items;orientation="vertical";isInline=!1;keyManager;destroyed=new d;triggerItem;pointerTracker;_menuStackHasFocus=R(!1);_tabIndexSignal=Ke(()=>{let e=this._menuStackHasFocus()?-1:0;return this.isInline?e:null});ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setKeyManager(),this._handleFocus(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.nativeElement),this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setFirstItemActive()}focusLastItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setLastItemActive()}_getTabIndex(){return this._tabIndexSignal()}closeOpenMenu(e,t){let{focusParentTrigger:n}=M({},t),o=this.keyManager,a=this.triggerItem;e===a?.getMenuTrigger()?.getMenu()&&(a?.getMenuTrigger()?.close(),n&&(a?o.setActiveItem(a):o.setFirstItemActive()))}_setKeyManager(){this.keyManager=new je(this.items).withWrap().withTypeAhead().withHomeAndEnd(),this.orientation==="horizontal"?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){let e=E(this.items.changes,this.destroyed);this.items.changes.pipe(A(this.items),ke(t=>t.filter(n=>n.hasMenu).map(n=>n.getMenuTrigger().opened.pipe(Te(n),c(e)))),ve(),Se(t=>(this.triggerItem=t,t.getMenuTrigger().closed)),c(this.destroyed)).subscribe(()=>this.triggerItem=void 0)}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe(c(this.destroyed)).subscribe(({item:e,focusParentTrigger:t})=>this.closeOpenMenu(e,{focusParentTrigger:t}))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe(c(this.destroyed)).subscribe(e=>{this._menuStackHasFocus.set(e)})}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular(()=>{this.pointerTracker=new de(this._renderer,this.items)}),this.menuAim.initialize(this,this.pointerTracker))}_handleFocus(){this._focusMonitor.monitor(this.nativeElement,!1).pipe(c(this.destroyed)).subscribe(e=>{e!==null&&e!=="mouse"&&this.focusFirstItem(e)})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=we(i)))(n||i)}})();static \u0275dir=u({type:i,contentQueries:function(t,n,o){if(t&1&&Be(o,_e,5),t&2){let a;He(a=Ne())&&(n.items=a)}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function(t,n){t&1&&h("focusin",function(){return n.menuStack.setHasFocus(!0)})("focusout",function(){return n.menuStack.setHasFocus(!1)}),t&2&&($("tabindex",n._getTabIndex())("id",n.id),b("aria-orientation",n.orientation)("data-cdk-menu-stack-id",n.menuStack.id))},inputs:{id:"id"},features:[x]})}return i})(),ot=(()=>{class i extends _t{_parentTrigger=s(K,{optional:!0});closed=new T;orientation="vertical";isInline=!this._parentTrigger;constructor(){super(),this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(e){let t=this.keyManager;switch(e.keyCode){case 37:case 39:l(e)||(e.preventDefault(),t.setFocusOrigin("keyboard"),t.onKeydown(e));break;case 27:l(e)||(e.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:_.currentItem,focusParentTrigger:!0}));break;case 9:l(e,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:t.onKeydown(e)}}_toggleMenuFocus(e){let t=this.keyManager;switch(e){case _.nextItem:t.setFocusOrigin("keyboard"),t.setNextItemActive();break;case _.previousItem:t.setFocusOrigin("keyboard"),t.setPreviousItemActive();break;case _.currentItem:t.activeItem&&(t.setFocusOrigin("keyboard"),t.setActiveItem(t.activeItem));break}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe(c(this.destroyed)).subscribe(e=>this._toggleMenuFocus(e))}static \u0275fac=function(t){return new(t||i)};static \u0275dir=u({type:i,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function(t,n){t&1&&h("keydown",function(a){return n._handleKeyEvent(a)}),t&2&&Re("cdk-menu-inline",n.isInline)},outputs:{closed:"closed"},exportAs:["cdkMenu"],features:[D([{provide:nt,useExisting:i},{provide:me,useExisting:i},mt("vertical")]),x]})}return i})();var Mt=le.map(i=>{let r=i.overlayX==="start"?2:-2,e=i.overlayY==="top"?2:-2;return ye(M({},i),{offsetX:r,offsetY:e})}),yt=(()=>{class i{static _openContextMenuTrigger;update(e){i._openContextMenuTrigger!==e&&(i._openContextMenuTrigger?.close(),i._openContextMenuTrigger=e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),at=(()=>{class i extends st{_overlay=s(H);_directionality=s(S,{optional:!0});_contextMenuTracker=s(yt);_changeDetectorRef=s(ie);disabled=!1;constructor(){super(),this._setMenuStackCloseListener()}open(e){this._open(null,e),this._changeDetectorRef.markForCheck()}close(){this.menuStack.closeAll()}_openOnContextMenu(e){this.disabled||(e.preventDefault(),e.stopPropagation(),this._contextMenuTracker.update(this),this._open(e,{x:e.clientX,y:e.clientY}),e.button===2?this.childMenu?.focusFirstItem("mouse"):e.button===0?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusFirstItem("program"))}_getOverlayConfig(e){return new ce({positionStrategy:this._getOverlayPositionStrategy(e),scrollStrategy:this.menuScrollStrategy(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(e){return this._overlay.position().flexibleConnectedTo(e).withLockedPosition().withGrowAfterOpen().withPositions(this.menuPosition??Mt)}_setMenuStackCloseListener(){this.menuStack.closed.pipe(c(this.destroyed)).subscribe(({item:e})=>{e===this.childMenu&&this.isOpen()&&(this.closed.next(),this.overlayRef.detach())})}_subscribeToOutsideClicks(e){if(this.overlayRef){let t=this.overlayRef.outsidePointerEvents();if(e){let[n,o]=be(t,({type:a})=>a==="auxclick");t=E(o.pipe(De((a,ct)=>e.ctrlKey&&ct===0&&a.ctrlKey)),n.pipe(xe(1)))}t.pipe(c(this.stopOutsideClicksListener)).subscribe(n=>{this.isElementInsideMenuStack(re(n))||this.menuStack.closeAll()})}}_open(e,t){this.disabled||(this.isOpen()?(this.menuStack.closeSubMenuOf(this.childMenu),this.overlayRef.getConfig().positionStrategy.setOrigin(t),this.overlayRef.updatePosition()):(this.opened.next(),this.overlayRef?(this.overlayRef.getConfig().positionStrategy.setOrigin(t),this.overlayRef.updatePosition()):this.overlayRef=this._overlay.create(this._getOverlayConfig(t)),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks(e)))}static \u0275fac=function(t){return new(t||i)};static \u0275dir=u({type:i,selectors:[["","cdkContextMenuTriggerFor",""]],hostVars:1,hostBindings:function(t,n){t&1&&h("contextmenu",function(a){return n._openOnContextMenu(a)}),t&2&&b("data-cdk-menu-stack-id",null)},inputs:{menuTemplateRef:[0,"cdkContextMenuTriggerFor","menuTemplateRef"],menuPosition:[0,"cdkContextMenuPosition","menuPosition"],menuData:[0,"cdkContextMenuTriggerData","menuData"],disabled:[2,"cdkContextMenuDisabled","disabled",ne]},outputs:{opened:"cdkContextMenuOpened",closed:"cdkContextMenuClosed"},exportAs:["cdkContextMenuTriggerFor"],features:[D([{provide:K,useExisting:i},{provide:p,useClass:fe}]),x]})}return i})();var V=class i{static \u0275fac=function(e){return new(e||i)};static \u0275dir=u({type:i,selectors:[["","appContextMenuItem",""]],hostAttrs:[1,"w-full","text-left","p-2.5","hover:bg-accent","hover:text-accent-foreground","focus-visible:bg-accent","focus-visible:text-accent-foreground","focus-visible:outline-hidden"],features:[v([{directive:_e,inputs:["cdkMenuItemDisabled","disabled"]}])]})};var U=class i{static \u0275fac=function(e){return new(e||i)};static \u0275dir=u({type:i,selectors:[["","appContextMenuTrigger",""]],exportAs:["appContextMenuTrigger"],features:[v([{directive:at,inputs:["cdkContextMenuTriggerFor","appContextMenuTrigger"]}])]})};var j=class i{animationBuilder=s(Ue);player;host=s(k);animation=this.animationBuilder.build([se({transform:"scale(0)",opacity:0}),Ve("150ms",se({opacity:1,transform:"scale(1)"}))]);constructor(){this.enter()}enter(){this.player=this.animation.create(this.host.nativeElement),this.player.play()}ngOnDestroy(){this.player.destroy()}static \u0275fac=function(e){return new(e||i)};static \u0275dir=u({type:i,selectors:[["","appContextMenu",""]],hostAttrs:[1,"shadow-md","bg-background","rounded-md","border","border-border"],features:[v([ot])]})};function vt(i,r){if(i&1){let e=Pe();m(0,"div",3)(1,"button",4),h("click",function(){Q(e);let n=ee(),o=te(2);return X(n.copy(o.textContent))}),g(2,"Copy"),f(),m(3,"button",4),h("click",function(){Q(e);let n=ee();return X(n.markRead())}),g(4,"Mark as Red"),f()()}}var W=class i{toast=s(et);color=R("inherit");markRead(){this.color.set("red")}copy(r){r&&navigator.clipboard.writeText(r).then(()=>{this.toast.open({message:"Copied!",showCloseIcon:!1,closeDelay:1e3})})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=B({type:i,selectors:[["doc-show-case-context-menu"]],decls:6,vars:3,consts:[["content",""],["contextMenu",""],[3,"appContextMenuTrigger"],["appContextMenu",""],["appContextMenuItem","",3,"click"]],template:function(e,t){if(e&1&&(m(0,"div",2)(1,"p",null,0),g(3,"Right click to open context menu"),f()(),Ae(4,vt,5,0,"ng-template",null,1,Le)),e&2){let n=te(5);C("appContextMenuTrigger",n),I(),Fe("color",t.color())}},dependencies:[j,U,V],encapsulation:2,changeDetection:0})};var w="context-menu",ut=class i{sourceTreeBuilder=s(Xe);sourceTree=[{name:w,files:[...this.sourceTreeBuilder.directive(w,w),...this.sourceTreeBuilder.directive("context-menu-trigger",w),...this.sourceTreeBuilder.directive("context-menu-item",w)],hideName:!0}];apiInfo={stylesInGlobal:!0,entities:[{name:"ContextMenuTriggerDirective",type:"directive",selector:"[appContextMenuTrigger]",description:"This directive should be applied to the element that will open the context menu.",inputs:[{name:"appContextMenuTrigger",type:"ng-template",default:ze,description:"The template to use for the context menu."}]},{name:"ContextMenuDirective",type:"directive",selector:"[appContextMenu]"},{name:"ContextMenuItemDirective",type:"directive",selector:"[appContextMenuItem]",inputs:[{name:"disabled",type:"boolean",default:"false",description:"Disables the menu item"}]}]};static \u0275fac=function(e){return new(e||i)};static \u0275cmp=B({type:i,selectors:[["doc-context-menu-page"]],decls:11,vars:3,consts:[["subTitle","A context menus is a type of pop-up menu that doesn't have a traditional trigger element, instead it is triggered when a user right-clicks within some container element",3,"label"],["name","context-menu"],["type","component","name","context-menu"],["name","context-menu",3,"sourceTree"],[3,"apiInfo"],["target","_blank","href","https://material.angular.io/cdk/menu/overview#context-menus",1,"underline"]],template:function(e,t){e&1&&(m(0,"doc-blueprint-page",0)(1,"doc-show-case",1),J(2,"doc-show-case-context-menu"),f(),J(3,"doc-command-installation",2)(4,"doc-source-tree",3),m(5,"doc-api-info",4)(6,"doc-api-description"),g(7," ContextMenu uses "),m(8,"a",5),g(9,"Angular/cdk/Menu"),f(),g(10," under the hood "),f()()()),e&2&&(C("label","Context Menu"),I(4),C("sourceTree",t.sourceTree),I(),C("apiInfo",t.apiInfo))},dependencies:[Ge,Qe,W,Ye,$e,Ze,tt],encapsulation:2,changeDetection:0})};export{ut as ContextMenuPageComponent};
