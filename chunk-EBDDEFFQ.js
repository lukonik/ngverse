import{g as x}from"./chunk-NOVEG7DA.js";import{d as b,e as R,h as A,i as N}from"./chunk-7A7WZAQP.js";import{$ as D,B as F,C as T,Ca as p,Ga as i,Gc as v,Ic as P,Kb as c,Lb as j,Mb as q,Nb as M,Ob as d,Pb as s,Xb as E,Yb as u,Zb as a,cc as k,db as l,ec as O,fa as S,gc as _,hc as I,nb as w,tb as m,yb as f}from"./chunk-L4LO2SGZ.js";import{a as C}from"./chunk-HZ6M6AS2.js";var L=["*"],h=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-error"]],hostAttrs:[1,"text-sm","text-danger"],ngContentSelectors:L,decls:1,vars:0,template:function(e,o){e&1&&(u(),a(0))},encapsulation:2,changeDetection:0})};var B={required:"This field is required",email:"Enter a valid email address",min:"This field is too short",max:"This field is too long"},g=class t{_errors=i(B);errors=this._errors.asReadonly();getMessage(r,e){let o=this._errors()[r];if(o)return o instanceof Function?o(e):o}addErrors(r){this._errors.set(C(C({},this._errors()),r))}setErrors(r){this._errors.set(r)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};var U=[[["app-label"]],"*",[["app-error"]]],z=["app-label","*","app-error"];function G(t,r){t&1&&(d(0,"span",3),_(1,"*"),s())}function H(t,r){if(t&1&&(d(0,"app-error"),_(1),s()),t&2){let e=r.$implicit;l(),I(e)}}function J(t,r){if(t&1&&q(0,H,2,1,"app-error",null,j),t&2){let e=E(2);M(e.errors())}}function K(t,r){t&1&&a(0,2)}function W(t,r){if(t&1&&f(0,J,2,0)(1,K,1,0),t&2){let e=E();c(e.showErrors()?0:-1),l(),c(e.showCustomErrors()?1:-1)}}var $=class t{silentErrors=p();showErrors=p(!0);hideRequiredMarker=p(!1);errors=i([]);invalid=i(!1);touched=i(!1);showCustomErrors=v(()=>!this.showErrors()||this.errors().length===0);hasRequiredValidation=v(()=>{let r=this.ngControl()?.control;return r?r.hasValidator(b.required)||r.hasValidator(b.requiredTrue):!1});ngControl=w(R);sub;errorRegistry=S(g);errorsCodes$=x(this.errorRegistry.errors);silentErrors$=x(this.silentErrors);constructor(){P(()=>{let e=this.ngControl()?.control;if(!e){this.sub?.unsubscribe();return}let o=e.events.pipe(T(n=>n instanceof A||n instanceof N));this.sub=F(o,this.errorsCodes$,this.silentErrors$).subscribe(()=>{this.touched.set(e.touched),this.invalid.set(e.invalid),this.processErrors(e)})})}processErrors(r){let e=[],o=this.silentErrors();for(let n in r.errors){let Y=!o?.includes(n);if(r.errors[n]&&Y){let y=this.errorRegistry.getMessage(n,r.errors[n]);y!==void 0&&e.push(y)}}this.errors.set(e)}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=m({type:t,selectors:[["app-form-field"]],contentQueries:function(e,o,n){e&1&&k(n,o.ngControl,R,5),e&2&&O()},inputs:{silentErrors:[1,"silentErrors"],showErrors:[1,"showErrors"],hideRequiredMarker:[1,"hideRequiredMarker"]},ngContentSelectors:z,decls:8,vars:2,consts:[[1,"relative","mb-1.5","flex","flex-col","gap-1.5","pb-5"],[1,"flex","flex-col","gap-1.5"],[1,"flex","items-center","gap-1"],[1,"text-danger"],[1,"absolute","right-0","bottom-0","left-0","flex","flex-col"]],template:function(e,o){e&1&&(u(U),d(0,"div",0)(1,"label",1)(2,"div",2),a(3),f(4,G,2,0,"span",3),s(),a(5,1),s(),d(6,"div",4),f(7,W,2,2),s()()),e&2&&(l(4),c(!o.hideRequiredMarker()&&o.hasRequiredValidation()?4:-1),l(3),c(o.invalid()&&o.touched()?7:-1))},dependencies:[h],styles:["app-error[_ngcontent-%COMP%]{display:block}"],changeDetection:0})};export{h as a,g as b,$ as c};
