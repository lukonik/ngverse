import{a as $e}from"./chunk-W7L2PODZ.js";import{a as Je}from"./chunk-62UFNHGM.js";import{a as Ze}from"./chunk-GFVS4AOM.js";import{c as Ke,e as Ve}from"./chunk-LJC6S43E.js";import{b as ne}from"./chunk-5BWRXC6U.js";import{a as We}from"./chunk-2O3D7XMW.js";import{a as ze}from"./chunk-ZOW7N5PZ.js";import{a as Ge,l as qe}from"./chunk-E3CYXHGM.js";import{a as Ue}from"./chunk-A6PP34RC.js";import"./chunk-QUYR3LM6.js";import{a as te,b as Le,f as je}from"./chunk-57D75I32.js";import"./chunk-EWEGBGSN.js";import"./chunk-GPSI6ULD.js";import{b as Ye,g as Qe,h as se,k as re,l as oe,m as Xe,o as ae}from"./chunk-GRZZN3NF.js";import{c as ee,g as ie,h as l,i as E}from"./chunk-PEPACW3J.js";import{d as Ne,f as $}from"./chunk-BUO5MQHX.js";import"./chunk-CIUHIEW4.js";import"./chunk-GHFZ2OS6.js";import"./chunk-ISERG6LL.js";import"./chunk-AONP4U6R.js";import{$b as Pe,Aa as Se,B as ye,Cb as T,Db as p,Eb as f,F as ke,Fb as Z,H as ve,Hc as q,J as be,Kb as we,Lb as G,Lc as J,Nb as h,O as Ce,P as Te,Q as I,Qb as Y,R as Ie,S as c,Tb as Ae,Va as D,Vb as Fe,Wb as Re,X as U,_ as y,_b as Q,aa as s,ac as X,bb as B,d,dc as g,eb as Oe,fa as W,ga as z,ja as k,jb as H,lb as u,na as x,nb as b,oa as R,ob as S,oc as O,pb as Ee,ra as P,s as _e,t as Me,vc as Be,wa as xe,wb as C,xa as De,xc as He,z as F,za as v}from"./chunk-EWJS3UHC.js";import{a as M,b as ge}from"./chunk-HZ6M6AS2.js";var it=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=u({type:i,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],features:[O([{provide:ne,useClass:ne}])]})}return i})(),de=new y("cdk-menu"),_=(function(i){return i[i.nextItem=0]="nextItem",i[i.previousItem=1]="previousItem",i[i.currentItem=2]="currentItem",i})(_||{}),m=new y("cdk-menu-stack"),dt={provide:m,useFactory:()=>s(m,{optional:!0,skipSelf:!0})||new he},ht=i=>({provide:m,useFactory:()=>s(m,{optional:!0,skipSelf:!0})||he.inline(i)}),he=(()=>{class i{id=s(ie).getId("cdk-menu-stack-");_elements=[];_close=new d;_empty=new d;_hasFocus=new d;closed=this._close;hasFocus=this._hasFocus.pipe(I(!1),ke(0),be());emptied=this._empty;_inlineMenuOrientation=null;static inline(e){let t=new i;return t._inlineMenuOrientation=e,t}push(e){this._elements.push(e)}close(e,t){let{focusNextOnEmpty:n,focusParentTrigger:r}=M({},t);if(this._elements.indexOf(e)>=0){let o;do o=this._elements.pop(),this._close.next({item:o,focusParentTrigger:r});while(o!==e);this.isEmpty()&&this._empty.next(n)}}closeSubMenuOf(e){let t=!1;if(this._elements.indexOf(e)>=0)for(t=this.peek()!==e;this.peek()!==e;)this._close.next({item:this._elements.pop()});return t}closeAll(e){let{focusNextOnEmpty:t,focusParentTrigger:n}=M({},e);if(!this.isEmpty()){for(;!this.isEmpty();){let r=this._elements.pop();r&&this._close.next({item:r,focusParentTrigger:n})}this._empty.next(t)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return this._inlineMenuOrientation!=null}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(e){this._hasFocus.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=U({token:i,factory:i.\u0275fac})}return i})(),N=new y("cdk-menu-trigger"),mt=new y("cdk-menu-scroll-strategy",{providedIn:"root",factory:()=>{let i=s(k);return()=>Qe(i)}}),nt=(()=>{class i{static _openMenuTrigger;update(e){i._openMenuTrigger!==e&&(i._openMenuTrigger?.close(),i._openMenuTrigger=e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),st=(()=>{class i{injector=s(k);viewContainerRef=s(Oe);menuStack=s(m);menuScrollStrategy=s(mt);menuPosition;opened=new x;closed=new x;menuTemplateRef;menuData;overlayRef=null;destroyed=new d;stopOutsideClicksListener=F(this.closed,this.destroyed);childMenu;_menuPortal;_childMenuInjector;ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(e){this.childMenu=e}getMenuContentPortal(){let e=this.menuTemplateRef!==this._menuPortal?.templateRef;return this.menuTemplateRef&&(!this._menuPortal||e)&&(this._menuPortal=new Ye(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(e){for(let t=e;t;t=t?.parentElement??null)if(t.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||k.create({providers:[{provide:N,useValue:this},{provide:m,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}static \u0275fac=function(t){return new(t||i)};static \u0275dir=u({type:i,hostVars:2,hostBindings:function(t,n){t&2&&C("aria-controls",n.childMenu==null?null:n.childMenu.id)("data-cdk-menu-stack-id",n.menuStack.id)}})}return i})();var me=new y("cdk-menu-aim");function rt(i,a){if(!a.isTrusted)return!1;let e=i.nativeElement,t=a.keyCode;return e.nodeName==="BUTTON"&&!e.disabled?t===13||t===32:e.nodeName==="A"?t===13:!1}var pt=(()=>{class i extends st{_elementRef=s(v);_ngZone=s(R);_changeDetectorRef=s(q);_inputModalityDetector=s(te);_directionality=s(E,{optional:!0});_renderer=s(B);_injector=s(k);_cleanupMouseenter;_menuTracker=s(nt);_parentMenu=s(de,{optional:!0});_menuAim=s(me,{optional:!0});constructor(){super(),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){this._parentMenu||this._menuTracker.update(this),!this.isOpen()&&this.menuTemplateRef!=null&&(this.opened.next(),this.overlayRef=this.overlayRef||ae(this._injector,this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._changeDetectorRef.markForCheck(),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach(),this._changeDetectorRef.markForCheck()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}ngOnChanges(e){e.menuPosition&&this.overlayRef&&this.overlayRef.updatePositionStrategy(this._getOverlayPositionStrategy())}ngOnDestroy(){this._cleanupMouseenter(),super.ngOnDestroy()}_toggleOnKeydown(e){let t=this._parentMenu?.orientation==="vertical";switch(e.keyCode){case 32:case 13:!l(e)&&!rt(this._elementRef,e)&&(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case 39:l(e)||this._parentMenu&&t&&this._directionality?.value!=="rtl"&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 37:l(e)||this._parentMenu&&t&&this._directionality?.value==="rtl"&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 40:case 38:l(e)||t||(e.preventDefault(),this.open(),e.keyCode===40?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"));break}}_handleClick(){this.toggle(),this.childMenu?.focusFirstItem("mouse")}_setHasFocus(e){this._parentMenu||this.menuStack.setHasFocus(e)}_subscribeToMouseEnter(){this._cleanupMouseenter=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"mouseenter",()=>{if(this._inputModalityDetector.mostRecentModality!=="touch"&&!this.menuStack.isEmpty()&&!this.isOpen()){let e=()=>this._ngZone.run(()=>{this._closeSiblingTriggers(),this.open()});this._menuAim?this._menuAim.toggle(e):e()}}))}_closeSiblingTriggers(){this._parentMenu?!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll():this.menuStack.closeAll()}_getOverlayConfig(){return new se({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this.menuScrollStrategy(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return re(this._injector,this._elementRef).withLockedPosition().withFlexibleDimensions(!1).withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(!this._parentMenu||this._parentMenu.orientation==="horizontal"?oe:Xe)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe(c(this.destroyed)).subscribe(({item:e})=>{e===this.childMenu&&this.close()})}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe(c(this.stopOutsideClicksListener)).subscribe(e=>{let t=ee(e),n=this._elementRef.nativeElement;t!==n&&!n.contains(t)&&(this.isElementInsideMenuStack(t)?this._closeSiblingTriggers():this.menuStack.closeAll())})}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe(c(this.destroyed)).subscribe(e=>{e||this.menuStack.closeAll()})}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe(({focusParentTrigger:e})=>{e&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()})}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){let e=this._elementRef.nativeElement;e.nodeName==="BUTTON"&&!e.getAttribute("type")&&e.setAttribute("type","button")}static \u0275fac=function(t){return new(t||i)};static \u0275dir=u({type:i,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:[1,"cdk-menu-trigger"],hostVars:2,hostBindings:function(t,n){t&1&&h("focusin",function(){return n._setHasFocus(!0)})("focusout",function(){return n._setHasFocus(!1)})("keydown",function(o){return n._toggleOnKeydown(o)})("click",function(){return n._handleClick()}),t&2&&C("aria-haspopup",n.menuTemplateRef?"menu":null)("aria-expanded",n.menuTemplateRef==null?null:n.isOpen())},inputs:{menuTemplateRef:[0,"cdkMenuTriggerFor","menuTemplateRef"],menuPosition:[0,"cdkMenuPosition","menuPosition"],menuData:[0,"cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],features:[O([{provide:N,useExisting:i},dt]),S,xe]})}return i})(),pe=(()=>{class i{_dir=s(E,{optional:!0});_elementRef=s(v);_ngZone=s(R);_inputModalityDetector=s(te);_renderer=s(B);_cleanupMouseEnter;_menuAim=s(me,{optional:!0});_menuStack=s(m);_parentMenu=s(de,{optional:!0});_menuTrigger=s(pt,{optional:!0,self:!0});disabled=!1;typeaheadLabel;triggered=new x;get hasMenu(){return this._menuTrigger?.menuTemplateRef!=null}_tabindex=-1;closeOnSpacebarTrigger=!0;destroyed=new d;constructor(){this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}ngOnDestroy(){this._cleanupMouseEnter?.(),this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(e){let{keepOpen:t}=M({},e);!this.disabled&&!this.hasMenu&&(this.triggered.next(),t||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(e){this.disabled||(!e||!this._menuStack.isEmpty())&&(this._tabindex=0)}_handleClick(e){this.disabled?(e.preventDefault(),e.stopPropagation()):this.trigger()}_onKeydown(e){switch(e.keyCode){case 32:case 13:if(!l(e)&&!rt(this._elementRef,e)){let t=this._elementRef.nativeElement.nodeName;t!=="A"&&t!=="BUTTON"&&e.preventDefault(),this.trigger({keepOpen:e.keyCode===32&&!this.closeOnSpacebarTrigger})}break;case 39:l(e)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._forwardArrowPressed(e):this._backArrowPressed(e));break;case 37:l(e)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._backArrowPressed(e):this._forwardArrowPressed(e));break}}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(e){let t=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(e.preventDefault(),this._menuStack.close(t,{focusNextOnEmpty:this._menuStack.inlineMenuOrientation()==="horizontal"?_.previousItem:_.currentItem,focusParentTrigger:!0}))}_forwardArrowPressed(e){!this.hasMenu&&this._menuStack.inlineMenuOrientation()==="horizontal"&&(e.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:_.nextItem,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){let e=()=>this._ngZone.run(()=>this._menuStack.closeSubMenuOf(this._parentMenu));this._cleanupMouseEnter=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"mouseenter",()=>{this._inputModalityDetector.mostRecentModality!=="touch"&&!this._menuStack.isEmpty()&&!this.hasMenu&&(this._menuAim?this._menuAim.toggle(e):e())}))}}_isParentVertical(){return this._parentMenu?.orientation==="vertical"}_setType(){let e=this._elementRef.nativeElement;e.nodeName==="BUTTON"&&!e.getAttribute("type")&&e.setAttribute("type","button")}static \u0275fac=function(t){return new(t||i)};static \u0275dir=u({type:i,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:4,hostBindings:function(t,n){t&1&&h("blur",function(){return n._resetTabIndex()})("focus",function(){return n._setTabIndex()})("click",function(o){return n._handleClick(o)})("keydown",function(o){return n._onKeydown(o)}),t&2&&(G("tabIndex",n._tabindex),C("aria-disabled",n.disabled||null),X("cdk-menu-item-disabled",n.disabled))},inputs:{disabled:[2,"cdkMenuItemDisabled","disabled",J],typeaheadLabel:[0,"cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"]})}return i})(),le=class{_renderer;_items;_eventCleanups;_itemsSubscription;entered=new d;exited=new d;activeElement;previousElement;constructor(a,e){this._renderer=a,this._items=e,this._bindEvents(),this.entered.subscribe(t=>this.activeElement=t),this.exited.subscribe(()=>{this.previousElement=this.activeElement,this.activeElement=void 0})}destroy(){this._cleanupEvents(),this._itemsSubscription?.unsubscribe()}_bindEvents(){this._itemsSubscription=this._items.changes.pipe(I(this._items)).subscribe(()=>{this._cleanupEvents(),this._eventCleanups=[],this._items.forEach(a=>{let e=a._elementRef.nativeElement;this._eventCleanups.push(this._renderer.listen(e,"mouseenter",()=>{this.entered.next(a)}),this._renderer.listen(e,"mouseout",()=>{this.exited.next(a)}))})})}_cleanupEvents(){this._eventCleanups?.forEach(a=>a()),this._eventCleanups=void 0}},ft=(()=>{class i extends it{_focusMonitor=s(Le);ngZone=s(R);_renderer=s(B);nativeElement=s(v).nativeElement;menuStack=s(m);menuAim=s(me,{optional:!0,self:!0});dir=s(E,{optional:!0});_allItems;id=s(ie).getId("cdk-menu-");items=new Se;orientation="vertical";isInline=!1;keyManager;destroyed=new d;triggerItem;pointerTracker;_menuStackHasFocus=P(!1);_tabIndexSignal=He(()=>{let e=this._menuStackHasFocus()?-1:0;return this.isInline?e:null});ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setItems(),this._setKeyManager(),this._handleFocus(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.nativeElement),this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setFirstItemActive()}focusLastItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setLastItemActive()}setActiveMenuItem(e){this.keyManager?.setActiveItem(e)}_getTabIndex(){return this._tabIndexSignal()}closeOpenMenu(e,t){let{focusParentTrigger:n}=M({},t),r=this.keyManager,o=this.triggerItem;e===o?.getMenuTrigger()?.getMenu()&&(o?.getMenuTrigger()?.close(),n&&(o?r.setActiveItem(o):r.setFirstItemActive()))}_setItems(){this._allItems.changes.pipe(I(this._allItems),c(this.destroyed)).subscribe(e=>{this.items.reset(e.filter(t=>t._parentMenu===this)),this.items.notifyOnChanges()})}_setKeyManager(){this.keyManager=new je(this.items).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1),this.orientation==="horizontal"?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){let e=F(this.items.changes,this.destroyed);this.items.changes.pipe(I(this.items),_e(t=>t.filter(n=>n.hasMenu).map(n=>n.getMenuTrigger().opened.pipe(ve(n),c(e)))),Me(),Ie(t=>(this.triggerItem=t,t.getMenuTrigger().closed)),c(this.destroyed)).subscribe(()=>this.triggerItem=void 0)}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe(c(this.destroyed)).subscribe(({item:e,focusParentTrigger:t})=>this.closeOpenMenu(e,{focusParentTrigger:t}))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe(c(this.destroyed)).subscribe(e=>{this._menuStackHasFocus.set(e)})}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular(()=>{this.pointerTracker=new le(this._renderer,this.items)}),this.menuAim.initialize(this,this.pointerTracker))}_handleFocus(){this._focusMonitor.monitor(this.nativeElement,!1).pipe(c(this.destroyed)).subscribe(e=>{e!==null&&e!=="mouse"&&this.focusFirstItem(e)})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=De(i)))(n||i)}})();static \u0275dir=u({type:i,contentQueries:function(t,n,r){if(t&1&&Ae(r,pe,5),t&2){let o;Fe(o=Re())&&(n._allItems=o)}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function(t,n){t&1&&h("focusin",function(){return n.menuStack.setHasFocus(!0)})("focusout",function(){return n.menuStack.setHasFocus(!1)}),t&2&&(G("tabIndex",n._getTabIndex())("id",n.id),C("aria-orientation",n.orientation)("data-cdk-menu-stack-id",n.menuStack.id))},inputs:{id:"id"},features:[S]})}return i})(),ot=(()=>{class i extends ft{_parentTrigger=s(N,{optional:!0});closed=new x;orientation="vertical";isInline=!this._parentTrigger;constructor(){super(),this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(e){let t=this.keyManager;switch(e.keyCode){case 37:case 39:l(e)||(e.preventDefault(),t.setFocusOrigin("keyboard"),t.onKeydown(e));break;case 27:l(e)||(e.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:_.currentItem,focusParentTrigger:!0}));break;case 9:l(e,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:t.onKeydown(e)}}_toggleMenuFocus(e){let t=this.keyManager;switch(e){case _.nextItem:t.setFocusOrigin("keyboard"),t.setNextItemActive();break;case _.previousItem:t.setFocusOrigin("keyboard"),t.setPreviousItemActive();break;case _.currentItem:t.activeItem&&(t.setFocusOrigin("keyboard"),t.setActiveItem(t.activeItem));break}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe(c(this.destroyed)).subscribe(e=>this._toggleMenuFocus(e))}static \u0275fac=function(t){return new(t||i)};static \u0275dir=u({type:i,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function(t,n){t&1&&h("keydown",function(o){return n._handleKeyEvent(o)}),t&2&&X("cdk-menu-inline",n.isInline)},outputs:{closed:"closed"},exportAs:["cdkMenu"],features:[O([{provide:it,useExisting:i},{provide:de,useExisting:i},ht("vertical")]),S]})}return i})();var gt=oe.map(i=>{let a=i.overlayX==="start"?2:-2,e=i.overlayY==="top"?2:-2;return ge(M({},i),{offsetX:a,offsetY:e})}),at=(()=>{class i extends st{_injector=s(k);_directionality=s(E,{optional:!0});_menuTracker=s(nt);_changeDetectorRef=s(q);disabled=!1;constructor(){super(),this._setMenuStackCloseListener()}open(e){this._open(null,e),this._changeDetectorRef.markForCheck()}close(){this.menuStack.closeAll()}_openOnContextMenu(e){this.disabled||(e.preventDefault(),e.stopPropagation(),this._menuTracker.update(this),this._open(e,{x:e.clientX,y:e.clientY}),e.button===2?this.childMenu?.focusFirstItem("mouse"):e.button===0?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusFirstItem("program"))}_getOverlayConfig(e){return new se({positionStrategy:this._getOverlayPositionStrategy(e),scrollStrategy:this.menuScrollStrategy(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(e){return re(this._injector,e).withLockedPosition().withGrowAfterOpen().withPositions(this.menuPosition??gt)}_setMenuStackCloseListener(){this.menuStack.closed.pipe(c(this.destroyed)).subscribe(({item:e})=>{e===this.childMenu&&this.isOpen()&&(this.closed.next(),this.overlayRef.detach(),this.childMenu=void 0,this._changeDetectorRef.markForCheck())})}_subscribeToOutsideClicks(e){if(this.overlayRef){let t=this.overlayRef.outsidePointerEvents();if(e){let[n,r]=ye(t,({type:o})=>o==="auxclick");t=F(r.pipe(Te((o,ct)=>e.ctrlKey&&ct===0&&o.ctrlKey)),n.pipe(Ce(1)))}t.pipe(c(this.stopOutsideClicksListener)).subscribe(n=>{this.isElementInsideMenuStack(ee(n))||this.menuStack.closeAll()})}}_open(e,t){this.disabled||(this.isOpen()?(this.menuStack.closeSubMenuOf(this.childMenu),this.overlayRef.getConfig().positionStrategy.setOrigin(t),this.overlayRef.updatePosition()):(this.opened.next(),this.overlayRef?(this.overlayRef.getConfig().positionStrategy.setOrigin(t),this.overlayRef.updatePosition()):this.overlayRef=ae(this._injector,this._getOverlayConfig(t)),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks(e)))}static \u0275fac=function(t){return new(t||i)};static \u0275dir=u({type:i,selectors:[["","cdkContextMenuTriggerFor",""]],hostVars:1,hostBindings:function(t,n){t&1&&h("contextmenu",function(o){return n._openOnContextMenu(o)}),t&2&&C("data-cdk-menu-stack-id",null)},inputs:{menuTemplateRef:[0,"cdkContextMenuTriggerFor","menuTemplateRef"],menuPosition:[0,"cdkContextMenuPosition","menuPosition"],menuData:[0,"cdkContextMenuTriggerData","menuData"],disabled:[2,"cdkContextMenuDisabled","disabled",J]},outputs:{opened:"cdkContextMenuOpened",closed:"cdkContextMenuClosed"},exportAs:["cdkContextMenuTriggerFor"],features:[O([{provide:N,useExisting:i},{provide:m,useClass:he}]),S]})}return i})();var L=class i{static \u0275fac=function(e){return new(e||i)};static \u0275dir=u({type:i,selectors:[["","appContextMenuItem",""]],hostAttrs:[1,"w-full","text-left","p-2.5","hover:bg-accent","hover:text-accent-foreground","focus-visible:bg-accent","focus-visible:text-accent-foreground","focus-visible:outline-hidden"],features:[b([{directive:pe,inputs:["cdkMenuItemDisabled","disabled"]}])]})};var j=class i{static \u0275fac=function(e){return new(e||i)};static \u0275dir=u({type:i,selectors:[["","appContextMenuTrigger",""]],exportAs:["appContextMenuTrigger"],features:[b([{directive:at,inputs:["cdkContextMenuTriggerFor","appContextMenuTrigger"]}])]})};var K=class i{animationBuilder=s(ze);player;host=s(v);animation=this.animationBuilder.build([$({transform:"scale(0)",opacity:0}),Ne("150ms",$({opacity:1,transform:"scale(1)"}))]);constructor(){this.enter()}enter(){this.player=this.animation.create(this.host.nativeElement),this.player.play()}ngOnDestroy(){this.player.destroy()}static \u0275fac=function(e){return new(e||i)};static \u0275dir=u({type:i,selectors:[["","appContextMenu",""]],hostAttrs:[1,"shadow-md","bg-background","rounded-md","border","border-border"],features:[b([ot])]})};function Mt(i,a){if(i&1){let e=we();p(0,"div",3)(1,"button",4),h("click",function(){W(e);let n=Y(),r=Q(2);return z(n.copy(r.textContent))}),g(2,"Copy"),f(),p(3,"button",4),h("click",function(){W(e);let n=Y();return z(n.markRead())}),g(4,"Mark as Red"),f()()}}var V=class i{toast=s(Je);color=P("inherit");markRead(){this.color.set("red")}copy(a){a&&navigator.clipboard.writeText(a).then(()=>{this.toast.open({message:"Copied!",showCloseIcon:!1,closeDelay:1e3})})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=H({type:i,selectors:[["doc-show-case-context-menu"]],decls:6,vars:3,consts:[["content",""],["contextMenu",""],[3,"appContextMenuTrigger"],["appContextMenu",""],["appContextMenuItem","",3,"click"]],template:function(e,t){if(e&1&&(p(0,"div",2)(1,"p",null,0),g(3,"Right click to open context menu"),f()(),Ee(4,Mt,5,0,"ng-template",null,1,Be)),e&2){let n=Q(5);T("appContextMenuTrigger",n),D(),Pe("color",t.color())}},dependencies:[K,j,L],encapsulation:2,changeDetection:0})};var A="context-menu",ut=class i{sourceTreeBuilder=s(Ge);sourceTree=[{name:A,files:[...this.sourceTreeBuilder.directive(A,A),...this.sourceTreeBuilder.directive("context-menu-trigger",A),...this.sourceTreeBuilder.directive("context-menu-item",A)],hideName:!0}];apiInfo={stylesInGlobal:!0,entities:[{name:"ContextMenuTriggerDirective",type:"directive",selector:"[appContextMenuTrigger]",description:"This directive should be applied to the element that will open the context menu.",inputs:[{name:"appContextMenuTrigger",type:"ng-template",default:Ke,description:"The template to use for the context menu."}]},{name:"ContextMenuDirective",type:"directive",selector:"[appContextMenu]"},{name:"ContextMenuItemDirective",type:"directive",selector:"[appContextMenuItem]",inputs:[{name:"disabled",type:"boolean",default:"false",description:"Disables the menu item"}]}]};static \u0275fac=function(e){return new(e||i)};static \u0275cmp=H({type:i,selectors:[["doc-context-menu-page"]],decls:11,vars:3,consts:[["subTitle","A context menus is a type of pop-up menu that doesn't have a traditional trigger element, instead it is triggered when a user right-clicks within some container element",3,"label"],["name","context-menu"],["type","component","name","context-menu"],["name","context-menu",3,"sourceTree"],[3,"apiInfo"],["target","_blank","href","https://material.angular.io/cdk/menu/overview#context-menus",1,"underline"]],template:function(e,t){e&1&&(p(0,"doc-blueprint-page",0)(1,"doc-show-case",1),Z(2,"doc-show-case-context-menu"),f(),Z(3,"doc-command-installation",2)(4,"doc-source-tree",3),p(5,"doc-api-info",4)(6,"doc-api-description"),g(7," ContextMenu uses "),p(8,"a",5),g(9,"Angular/cdk/Menu"),f(),g(10," under the hood "),f()()()),e&2&&(T("label","Context Menu"),D(4),T("sourceTree",t.sourceTree),D(),T("apiInfo",t.apiInfo))},dependencies:[Ue,Ze,V,We,qe,Ve,$e],encapsulation:2,changeDetection:0})};export{ut as ContextMenuPageComponent};
