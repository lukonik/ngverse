{
  "version": 3,
  "sources": ["projects/ngverse/src/lib/ui/local-storage/local-storage.service.ts", "projects/docs/src/app/examples/local-storage/show-case-local-storage/show-case-local-storage.component.ts", "projects/docs/src/app/examples/local-storage/show-case-local-storage/show-case-local-storage.component.html", "projects/docs/src/app/features/local-storage-page/local-storage-page.component.ts", "projects/docs/src/app/features/local-storage-page/local-storage-page.component.html"],
  "sourcesContent": ["import { DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport { inject, Injectable, InjectionToken, PLATFORM_ID } from '@angular/core';\n\nfunction mockLocalStorage(): Storage {\n  return {\n    length: 0,\n    key: () => null,\n    getItem: () => null,\n    setItem: () => null,\n    removeItem: () => null,\n    clear: () => null,\n  };\n}\n\nexport const LOCAL_STORAGE_TOKEN = new InjectionToken<Storage>(\n  'LOCAL_STORAGE_TOKEN',\n  {\n    factory: () => {\n      const platformId = inject(PLATFORM_ID);\n      const isBrowser = isPlatformBrowser(platformId);\n      const document = inject(DOCUMENT);\n\n      if (isBrowser) {\n        return document.defaultView?.localStorage ?? mockLocalStorage();\n      } else {\n        return mockLocalStorage();\n      }\n    },\n  }\n);\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LocalStorageService implements Storage {\n  private _storage = inject(LOCAL_STORAGE_TOKEN);\n\n  readonly enabled = isPlatformBrowser(inject(PLATFORM_ID));\n\n  get length() {\n    return this._storage.length;\n  }\n\n  clear() {\n    this._storage.clear();\n  }\n  getItem(key: string) {\n    return this._storage.getItem(key);\n  }\n  key(index: number) {\n    return this._storage.key(index);\n  }\n  removeItem(key: string): void {\n    this._storage.removeItem(key);\n  }\n  setItem(key: string, value: string): void {\n    this._storage.setItem(key, value);\n  }\n}\n", "import {\n  ChangeDetectionStrategy,\n  Component,\n  inject,\n  OnDestroy,\n  signal,\n} from '@angular/core';\nimport { ButtonComponent } from '@/ui/button/button.component';\nimport { LocalStorageService } from '@/ui/local-storage/local-storage.service';\nconst STORAGE_KEY = 'current-date';\n\n@Component({\n  selector: 'doc-show-case-local-storage',\n  imports: [ButtonComponent],\n  templateUrl: './show-case-local-storage.component.html',\n  styleUrl: './show-case-local-storage.component.css',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ShowCaseLocalStorageComponent implements OnDestroy {\n  private localStorageService = inject(LocalStorageService);\n  dateValue = signal<string | undefined>(undefined);\n\n  store() {\n    this.localStorageService.setItem(STORAGE_KEY, new Date().toString());\n  }\n\n  read() {\n    const date = this.localStorageService.getItem(STORAGE_KEY);\n    if (date) {\n      this.dateValue.set(date);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.localStorageService.removeItem(STORAGE_KEY);\n  }\n}\n", "<div class=\"show-case\">\n  <div class=\"buttons\">\n    <button (click)=\"store()\" appButton variant=\"outline\" size=\"sm\">\n      Store current date\n    </button>\n\n    <button\n      appButton\n      (click)=\"read()\"\n      size=\"sm\"\n      variant=\"outline\"\n      color=\"secondary\"\n    >\n      Read the value\n    </button>\n  </div>\n  <p class=\"date-label\">\n    {{ dateValue() }}\n  </p>\n</div>\n", "import { ChangeDetectionStrategy, Component, inject } from '@angular/core';\nimport { ApiDescriptionComponent } from '../../blueprint/api-info/api-description/api-description.component';\nimport {\n  ApiInfo,\n  ApiInfoComponent,\n} from '../../blueprint/api-info/api-info.component';\nimport { BlueprintPageComponent } from '../../blueprint/blueprint-page/blueprint-page.component';\nimport { CommandInstallationComponent } from '../../blueprint/command-installation/command-installation.component';\nimport { ShowCaseComponent } from '../../blueprint/show-case/show-case.component';\nimport {\n  SourceTreeBuilder,\n  SourceTreeFolder,\n} from '../../blueprint/source-tree/source-tree-builder';\nimport { SourceTreeComponent } from '../../blueprint/source-tree/source-tree.component';\nimport { ShowCaseLocalStorageComponent } from '../../examples/local-storage/show-case-local-storage/show-case-local-storage.component';\n\nconst ROOT = 'local-storage';\n\n@Component({\n  selector: 'doc-local-storage-page',\n  imports: [\n    BlueprintPageComponent,\n    CommandInstallationComponent,\n    ShowCaseComponent,\n    SourceTreeComponent,\n    ApiInfoComponent,\n    ShowCaseLocalStorageComponent,\n    ApiDescriptionComponent,\n  ],\n  templateUrl: './local-storage-page.component.html',\n  styleUrl: './local-storage-page.component.css',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class LocalStoragePageComponent {\n  sourceTreeBuilder = inject(SourceTreeBuilder);\n  sourceTree: SourceTreeFolder[] = [\n    {\n      name: ROOT,\n      files: [...this.sourceTreeBuilder.service(ROOT, ROOT)],\n      hideName: true,\n    },\n  ];\n\n  apiInfo: ApiInfo = {\n    articleLink:\n      'https://medium.com/ngverse/make-localstorage-ssr-compatible-in-angular-431d7ce5714e',\n    entities: [\n      {\n        name: 'LocalStorageService',\n        type: 'service',\n        methods: [\n          {\n            name: 'getItem',\n            returnType: 'string | null',\n            description: 'Returns the value associated with the given key.',\n            params: [\n              {\n                name: 'key',\n                type: 'string',\n                description: 'The key of the value to retrieve.',\n              },\n            ],\n          },\n          {\n            name: 'setItem',\n            returnType: 'void',\n            description: 'Associates a key with a given value.',\n            params: [\n              {\n                name: 'key',\n                type: 'string',\n                description: 'The key of the value to set.',\n              },\n              {\n                name: 'value',\n                type: 'string',\n                description: 'The value to set.',\n              },\n            ],\n          },\n          {\n            name: 'removeItem',\n            returnType: 'void',\n            description: 'Removes the value associated with the given key.',\n            params: [\n              {\n                name: 'key',\n                type: 'string',\n                description: 'The key of the value to remove.',\n              },\n            ],\n          },\n          {\n            name: 'clear',\n            returnType: 'void',\n            description: 'Removes all values from the storage.',\n          },\n          {\n            name: 'key',\n            returnType: 'string | null',\n            description: 'Returns the key of the item at the given index.',\n            params: [\n              {\n                name: 'index',\n                type: 'number',\n                description: 'The index of the item.',\n              },\n            ],\n          },\n        ],\n        properties: [\n          {\n            name: 'length',\n            propType: 'get',\n            returnType: 'number',\n            description: 'The number of items in the storage.',\n          },\n          {\n            name: 'enabled',\n            propType: 'get',\n            returnType: 'boolean',\n            description:\n              'Whether the local storage is enabled. if SSR the value is false.',\n          },\n        ],\n      },\n    ],\n  };\n}\n", "<doc-blueprint-page\n  subTitle=\"LocalStorage is a secure wrapper for the browser's localStorage API, providing a mock implementation when operating in server-side rendering (SSR) mode.\"\n  [label]=\"'LocalStorage'\"\n>\n  <doc-show-case name=\"local-storage\">\n    <doc-show-case-local-storage></doc-show-case-local-storage>\n  </doc-show-case>\n  <doc-command-installation type=\"component\" name=\"local-storage\">\n  </doc-command-installation>\n  <doc-source-tree\n    [sourceTree]=\"sourceTree\"\n    name=\"local-storage\"\n  ></doc-source-tree>\n  <doc-api-info [apiInfo]=\"apiInfo\">\n    <doc-api-description>\n      LocalStorageService implements\n      <a\n        class=\"underline\"\n        target=\"_blank\"\n        href=\"https://developer.mozilla.org/en-US/docs/Web/API/Storage\"\n        >Storage</a\n      >\n      Interface so all native methods are available.\n    </doc-api-description>\n  </doc-api-info>\n</doc-blueprint-page>\n"],
  "mappings": "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",
  "names": []
}
