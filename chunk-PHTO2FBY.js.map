{
  "version": 3,
  "sources": ["projects/ngverse/src/lib/ui/checkbox/checkbox.component.ts", "projects/ngverse/src/lib/ui/checkbox/checkbox.component.html"],
  "sourcesContent": ["import { FontIconComponent } from '@/ui/font-icon/font-icon.component';\nimport { _IdGenerator } from '@angular/cdk/a11y';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  effect,\n  inject,\n  input,\n  signal,\n} from '@angular/core';\nimport {\n  AbstractControl,\n  ControlValueAccessor,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator,\n} from '@angular/forms';\n\ntype VALUE_TYPE = boolean | undefined | null;\n\ntype OnChangeFunction = ((_: unknown) => void) | undefined;\n\ntype OnTouchedFunction = (() => void) | undefined;\n\ntype ValidatorChangeFunction = (() => void) | undefined;\n\ntype LABEL_ALIGN = 'start' | 'end';\n\n@Component({\n  selector: 'app-checkbox',\n  imports: [FontIconComponent],\n  templateUrl: './checkbox.component.html',\n  styleUrl: './checkbox.component.css',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: CheckboxComponent,\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: CheckboxComponent,\n      multi: true,\n    },\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    class:\n      'inline-flex items-center gap-1 [.ng-invalid.ng-touched]:text-danger [.disabled]:text-disabled-foreground [.start]:flex-row-reverse',\n    '[class.disabled]': 'disabled()',\n    '[class.checked]': 'value()',\n    '[class.start]': 'labelAlign() === \"start\"',\n  },\n})\nexport class CheckboxComponent implements ControlValueAccessor, Validator {\n  labelAlign = input<LABEL_ALIGN>('end');\n  required = input<boolean>(false);\n  inputId = input(inject(_IdGenerator).getId('checkbox-'));\n\n  value = signal<VALUE_TYPE>(undefined);\n  disabled = signal<boolean>(false);\n\n  private _registerOnChangefn: OnChangeFunction;\n  private _onTouchedfn: OnTouchedFunction;\n  private _validatorChangefn: ValidatorChangeFunction;\n\n  constructor() {\n    effect(() => {\n      this.required();\n      this._validatorChangefn?.();\n    });\n  }\n\n  toggle() {\n    if (this.disabled()) {\n      return;\n    }\n    this._onTouchedfn?.();\n    const newValue = !this.value();\n    this.value.set(newValue);\n    this._registerOnChangefn?.(newValue);\n  }\n\n  writeValue(obj: unknown): void {\n    this.value.set(!!obj);\n  }\n  registerOnChange(fn: OnChangeFunction): void {\n    this._registerOnChangefn = fn;\n  }\n\n  registerOnValidatorChange(fn: () => void): void {\n    this._validatorChangefn = fn;\n  }\n\n  registerOnTouched(fn: OnTouchedFunction): void {\n    this._onTouchedfn = fn;\n  }\n\n  setDisabledState?(isDisabled: boolean): void {\n    this.disabled.set(isDisabled);\n  }\n\n  validate(control: AbstractControl<boolean>): ValidationErrors | null {\n    const hasRequiredValidator = this.required();\n\n    return hasRequiredValidator && control.value !== true\n      ? { required: true }\n      : null;\n  }\n}\n", "<div class=\"relative h-6 w-6\">\n  <input\n    [disabled]=\"disabled()\"\n    (change)=\"toggle()\"\n    class=\"peer absolute top-0 right-0 bottom-0 left-0 z-1 h-full w-full opacity-0\"\n    [id]=\"inputId()\"\n    [checked]=\"value()\"\n    type=\"checkbox\"\n  />\n  <app-font-icon\n    class=\"block rounded-sm peer-focus-visible:outline peer-focus-visible:outline-ring\"\n    >{{ value() ? 'check_box' : 'check_box_outline_blank' }}</app-font-icon\n  >\n</div>\n<label [htmlFor]=\"inputId()\">\n  <ng-content></ng-content>\n</label>\n"],
  "mappings": "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",
  "names": []
}
