import{C as x,g as b,j as B,k as Q}from"./chunk-QJNV3SJE.js";import{c as q,d as v,g as a,i as y}from"./chunk-QKQ5N64N.js";import{$ as T,B as R,C as D,Da as h,Fc as A,Ha as i,Hc as Y,Kb as p,Lb as S,Mb as w,Nb as M,Ob as m,Pb as d,Ub as j,Xb as _,Yb as f,Zb as s,cc as I,eb as c,ec as k,fa as O,gc as N,hc as $,ob as P,ub as l,zb as E}from"./chunk-4E37DFQL.js";import{a as C}from"./chunk-HZ6M6AS2.js";var V=["*"],u=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=l({type:t,selectors:[["app-error"]],hostVars:1,hostBindings:function(e,o){e&2&&j("@toggle",!0)},ngContentSelectors:V,decls:1,vars:0,template:function(e,o){e&1&&(f(),s(0))},styles:["[_nghost-%COMP%]{color:var(--color-danger);font-size:14px}"],data:{animation:[q("toggle",[y(":enter",[a({opacity:0}),v("150ms",a({opacity:1}))]),y(":leave",[a({opacity:1}),v("150ms",a({opacity:0}))])])]},changeDetection:0})};var G={required:"This field is required",email:"Enter a valid email address",min:"This field is too short",max:"This field is too long"},g=class t{_errors=i(G);errors=this._errors.asReadonly();getMessage(r,e){let o=this._errors()[r];if(o)return o instanceof Function?o(e):o}addErrors(r){this._errors.set(C(C({},this._errors()),r))}setErrors(r){this._errors.set(r)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var J=[[["app-label"]],"*",[["app-error"]]],K=["app-label","*","app-error"];function W(t,r){if(t&1&&(m(0,"app-error"),N(1),d()),t&2){let e=r.$implicit;c(),$(e)}}function X(t,r){if(t&1&&w(0,W,2,1,"app-error",null,S),t&2){let e=_(2);M(e.errors())}}function Z(t,r){t&1&&s(0,2)}function ee(t,r){if(t&1&&E(0,X,2,0)(1,Z,1,0),t&2){let e=_();p(e.showErrors()?0:-1),c(),p(e.showCustomErrors()?1:-1)}}var L=class t{silentErrors=h();showErrors=h(!0);errors=i([]);invalid=i(!1);touched=i(!1);showCustomErrors=A(()=>!this.showErrors()||this.errors().length===0);ngControl=P(b);sub;errorRegistry=O(g);errorsCodes$=x(this.errorRegistry.errors);silentErrors$=x(this.silentErrors);constructor(){Y(()=>{let e=this.ngControl()?.control;if(!e){this.sub?.unsubscribe();return}let o=e.events.pipe(D(n=>n instanceof B||n instanceof Q));this.sub=R(o,this.errorsCodes$,this.silentErrors$).subscribe(()=>{this.touched.set(e.touched),this.invalid.set(e.invalid),this.processErrors(e)})})}processErrors(r){let e=[],o=this.silentErrors();for(let n in r.errors){let z=!o?.includes(n);if(r.errors[n]&&z){let F=this.errorRegistry.getMessage(n,r.errors[n]);F!==void 0&&e.push(F)}}this.errors.set(e)}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=l({type:t,selectors:[["app-form-field"]],contentQueries:function(e,o,n){e&1&&I(n,o.ngControl,b,5),e&2&&k()},inputs:{silentErrors:[1,"silentErrors"],showErrors:[1,"showErrors"]},ngContentSelectors:K,decls:6,vars:1,consts:[[1,"form-field"],[1,"form-field-content"],[1,"form-field-errors"]],template:function(e,o){e&1&&(f(J),m(0,"div",0)(1,"label",1),s(2),s(3,1),d(),m(4,"div",2),E(5,ee,2,2),d()()),e&2&&(c(5),p(o.invalid()&&o.touched()?5:-1))},dependencies:[u],styles:[".form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;padding-bottom:20px;margin-bottom:6px;position:relative}.form-field-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-field-errors[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;bottom:0;left:0;right:0}.form-field-errors[_ngcontent-%COMP%]   app-error[_ngcontent-%COMP%]{display:block}"],changeDetection:0})};export{u as a,g as b,L as c};
