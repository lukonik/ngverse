import{g as x}from"./chunk-E3CYXHGM.js";import{d as _,e as R,h as P,i as V}from"./chunk-QUYR3LM6.js";import{A as F,Ab as S,Ac as f,Bb as q,Db as p,Dc as I,Eb as s,Qb as v,Rb as u,Sb as a,Va as l,X as M,Xb as j,Zb as k,aa as T,dc as E,ec as O,jb as m,ra as i,ua as N,xb as d,xc as b,yb as c,z as D,zb as w}from"./chunk-EWJS3UHC.js";import{a as C}from"./chunk-HZ6M6AS2.js";var L=["*"],g=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=m({type:o,selectors:[["app-error"]],hostAttrs:[1,"text-sm","text-danger"],ngContentSelectors:L,decls:1,vars:0,template:function(e,t){e&1&&(u(),a(0))},encapsulation:2,changeDetection:0})};var B={required:"This field is required",email:"Enter a valid email address",min:"This field is too short",max:"This field is too long"},h=class o{_errors=i(B);errors=this._errors.asReadonly();getMessage(r,e){let t=this._errors()[r];if(t)return t instanceof Function?t(e):t}addErrors(r){this._errors.set(C(C({},this._errors()),r))}setErrors(r){this._errors.set(r)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=M({token:o,factory:o.\u0275fac,providedIn:"root"})};var U=[[["app-label"]],"*",[["app-error"]]],z=["app-label","*","app-error"];function G(o,r){o&1&&(p(0,"span",3),E(1,"*"),s())}function H(o,r){if(o&1&&(p(0,"app-error"),E(1),s()),o&2){let e=r.$implicit;l(),O(e)}}function J(o,r){if(o&1&&S(0,H,2,1,"app-error",null,w),o&2){let e=v(2);q(e.errors())}}function K(o,r){o&1&&a(0,2)}function W(o,r){if(o&1&&(d(0,J,2,0),d(1,K,1,0)),o&2){let e=v();c(e.showErrors()?0:-1),l(),c(e.showCustomErrors()?1:-1)}}var $=class o{silentErrors=f();showErrors=f(!0);hideRequiredMarker=f(!1);errors=i([]);invalid=i(!1);touched=i(!1);showCustomErrors=b(()=>!this.showErrors()||this.errors().length===0);hasRequiredValidation=b(()=>{let r=this.ngControl()?.control;return r?r.hasValidator(_.required)||r.hasValidator(_.requiredTrue):!1});ngControl=I(R);sub;errorRegistry=T(h);errorsCodes$=x(this.errorRegistry.errors);silentErrors$=x(this.silentErrors);constructor(){N(()=>{let e=this.ngControl()?.control;if(!e){this.sub?.unsubscribe();return}let t=e.events.pipe(F(n=>n instanceof P||n instanceof V));this.sub=D(t,this.errorsCodes$,this.silentErrors$).subscribe(()=>{this.touched.set(e.touched),this.invalid.set(e.invalid),this.processErrors(e)})})}processErrors(r){let e=[],t=this.silentErrors();for(let n in r.errors){let Y=!t?.includes(n);if(r.errors[n]&&Y){let y=this.errorRegistry.getMessage(n,r.errors[n]);y!==void 0&&e.push(y)}}this.errors.set(e)}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=m({type:o,selectors:[["app-form-field"]],contentQueries:function(e,t,n){e&1&&j(n,t.ngControl,R,5),e&2&&k()},inputs:{silentErrors:[1,"silentErrors"],showErrors:[1,"showErrors"],hideRequiredMarker:[1,"hideRequiredMarker"]},ngContentSelectors:z,decls:8,vars:2,consts:[[1,"relative","mb-1.5","flex","flex-col","gap-1.5","pb-5"],[1,"flex","flex-col","gap-1.5"],[1,"flex","items-center","gap-1"],[1,"text-danger"],[1,"absolute","right-0","bottom-0","left-0","flex","flex-col"]],template:function(e,t){e&1&&(u(U),p(0,"div",0)(1,"label",1)(2,"div",2),a(3),d(4,G,2,0,"span",3),s(),a(5,1),s(),p(6,"div",4),d(7,W,2,2),s()()),e&2&&(l(4),c(!t.hideRequiredMarker()&&t.hasRequiredValidation()?4:-1),l(3),c(t.invalid()&&t.touched()?7:-1))},dependencies:[g],styles:["app-error[_ngcontent-%COMP%]{display:block}"],changeDetection:0})};export{g as a,h as b,$ as c};
