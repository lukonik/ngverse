<button
  class="select-button"
  cdkOverlayOrigin
  #trigger="cdkOverlayOrigin"
  #triggerElement
  (click)="toggle()"
>
  <span class="select-label">
    @if (selectedLabel()) {
      {{selectedLabel()}}
    } @else {
      {{label()}}
    }
  </span>

  <app-multi-select-icon
    class="select-button-icon"
    [class.opened]="isOpen()"
  ></app-multi-select-icon>
</button>
<ng-template
  #optionsContainer="cdkConnectedOverlay"
  (backdropClick)="close()"
  [cdkConnectedOverlayHasBackdrop]="true"
  [cdkConnectedOverlayBackdropClass]="'cdk-backdrop-transparent'"
  cdkConnectedOverlay
  [cdkConnectedOverlayOrigin]="trigger"
  [cdkConnectedOverlayOpen]="isOpen()"
  (detach)="close()"
>
  <div
    tabindex="0"
    class="select-options"
    [style.width.px]="overlayWidth()"
    role="listbox"
  >
    <ng-content select="app-multi-select-item"></ng-content>
  </div>
</ng-template>
