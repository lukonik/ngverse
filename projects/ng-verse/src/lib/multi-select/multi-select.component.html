<button
  class="select-button"
  #selectButton
  appPopoverOrigin
  #origin="appPopoverOrigin"
  (togglePopover)="toggle()"
>
  <span>{{ selectedOptionLabel() || placeholder() }}</span>
  <app-multi-select-icon
    class="select-button-icon"
    [class.opened]="isOpen()"
  ></app-multi-select-icon>
</button>
<div role="listbox" #listbox tabindex="0">
  <app-popover class="select-options" [(isOpen)]="isOpen" [origin]="origin">
    @for (option of options(); track $index) {
    <li class="option">
      {{ getOptionLabel(option) }}
      <app-multi-select-check-icon
        class="check-icon"
      ></app-multi-select-check-icon>
    </li>
    }
  </app-popover>
</div>

<!-- <ng-template
  (backdropClick)="close()"
  [cdkConnectedOverlayHasBackdrop]="true"
  [cdkConnectedOverlayBackdropClass]="'cdk-backdrop-transparent'"
  cdkConnectedOverlay
  [cdkConnectedOverlayOrigin]="trigger"
  [cdkConnectedOverlayOpen]="isOpen()"
  (attach)="panelOpened()"
  (detach)="close()"
>
  <ul
    [cdkListboxMultiple]="true"
    [formControl]="listboxFormControl"
    class="select-options"
    [style.width.px]="selectButton.clientWidth"
    cdkListbox
    [cdkListboxCompareWith]="compareWith()"
  >
    @for (option of options(); track $index) {
    <li class="option" [cdkOption]="getOptionValue(option)">
      {{ getOptionLabel(option) }}
      <app-multi-select-check-icon
        class="check-icon"
      ></app-multi-select-check-icon>
    </li>
    }
  </ul>
</ng-template> -->
