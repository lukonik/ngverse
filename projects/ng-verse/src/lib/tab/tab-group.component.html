<div
  class="tab-group-header"
  #tabGroupHeader
  appListbox
  [horizontal]="true"
  tabindex="0"
  (keydown)="onKeydown($event)"
>
  @for (tab of tabs(); track $index) {
    <app-tab-group-header-item
      (selectTab)="selectTab($index)"
      [tab]="tab"
    ></app-tab-group-header-item>
  }
  <div
    #tabInk
    class="tab-ink"
    [style.width.px]="tabInkWidth()"
    [style.left.px]="tabInkLeft()"
  ></div>
</div>
<!--we need explicitely set ng-content, in order ssr work properly see (https://github.com/angular/angular/issues/50543)-->
<ng-content></ng-content>
<div class="tab-body" [@tabChange]="selectedIndex()">
  @if (selectedTab(); as selectedTab) {
    @if (selectedTab.bodyTemplate(); as bodyTemplate) {
      <ng-container
        [ngTemplateOutlet]="bodyTemplate.templateRef"
      ></ng-container>
    } @else {
      @if (selectedTab.templateRef(); as templateRef) {
        <ng-container [ngTemplateOutlet]="templateRef"></ng-container>
      }
    }
  }
</div>
