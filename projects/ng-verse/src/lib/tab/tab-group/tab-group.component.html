<div class="tab-group-header" #tabGroupHeader>
  @for (tab of tabs(); track $index) {
    <button
      #tabHeader
      class="tab-header"
      (click)="selectTab($index)"
      [class.active]="selectedIndex() === $index"
    >
      @if (tab.headerTemplatePortal(); as headerTemplatePortal) {
        <ng-template [cdkPortalOutlet]="headerTemplatePortal"></ng-template>
      } @else {
        {{ tab.label() }}
      }
    </button>
  }
  <div
    #tabInk
    class="tab-ink"
    [style.width.px]="tabInkWidth()"
    [style.left.px]="tabInkLeft()"
  ></div>
</div>
<!--we need explicitely set ng-content, in order ssr work properly see (https://github.com/angular/angular/issues/50543)-->
<ng-content></ng-content>
<div class="tab-body" [@tabChange]="selectedIndex()">
  @if (selectedTab(); as selectedTab) {
    @if (selectedTab.templateRef(); as templateRef) {
      <ng-container [ngTemplateOutlet]="templateRef"></ng-container>
    }
  }
</div>
