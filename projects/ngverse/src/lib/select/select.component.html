<button
  class="select-button"
  appPopoverOrigin
  #origin="appPopoverOrigin"
  (click)="togglePanel()"
  [disabled]="disabled()"
>
  <span class="select-button-label">{{
    selectedOptionsLabel() || placeholder()
  }}</span>
  <app-select-icon
    class="select-button-icon"
    [class.opened]="isOpen()"
  ></app-select-icon>
</button>
<app-popover
  [outsideClose]="true"
  [restoreFocus]="true"
  [blockScroll]="true"
  [styled]="true"
  [stretchToOrigin]="true"
  (opened)="panelOpened()"
  (closed)="panelClosed()"
  [(isOpen)]="isOpen"
  [origin]="origin"
  [offsetY]="8"
>
  <ng-template>
    <div
      class="select-options"
      [appListbox]="values()"
      #listbox="appListbox"
      (valueChange)="toggleValue($event)"
      [multiple]="true"
      [withTypeAhead]="true"
      [withWrap]="false"
      role="listbox"
    >
      <ng-content select="app-option-group"></ng-content>
      <ng-content select="app-option"></ng-content>
    </div>
  </ng-template>
</app-popover>
